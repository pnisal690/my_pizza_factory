  [1m[35m (4.8ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_development` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_test` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) /*application='MyPizzaFactory'*/[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2025-02-01 08:19:57.375726', '2025-02-01 08:19:57.375728') /*application='MyPizzaFactory'*/[0m
Migrating to CreatePizzas (20250201081729)
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE `pizzas` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `size` varchar(255), `is_vegetarian` tinyint(1), `crust` varchar(255), `price_regular` int, `price_medium` int, `price_large` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201081729') /*application='MyPizzaFactory'*/[0m
Migrating to CreateToppings (20250201081745)
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE `toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `is_vegetarian` tinyint(1), `price` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201081745') /*application='MyPizzaFactory'*/[0m
Migrating to CreateJoinTablePizzasToppings (20250201081805)
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE `pizzas_toppings` (`pizza_id` bigint NOT NULL, `topping_id` bigint NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201081805') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrders (20250201081814)
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `status` varchar(255), `total` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201081814') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderItems (20250201081847)
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE `order_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `pizza_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_items_on_order_id` (`order_id`), INDEX `index_order_items_on_pizza_id` (`pizza_id`), CONSTRAINT `fk_rails_e3cb28f071`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
, CONSTRAINT `fk_rails_d28b17c368`
FOREIGN KEY (`pizza_id`)
  REFERENCES `pizzas` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201081847') /*application='MyPizzaFactory'*/[0m
Migrating to CreateInventories (20250201081858)
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE `inventories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201081858') /*application='MyPizzaFactory'*/[0m
Migrating to CreateSides (20250201081907)
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE `sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` int, `order_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_sides_on_order_id` (`order_id`), CONSTRAINT `fk_rails_8fdde44935`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201081907') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT `order_items`.* FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Load (1.0ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Load (0.4ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (4.7ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Deluxe Veggie', 'Medium', TRUE, 'New Hand Tossed', 150, 200, 325, '2025-02-01 08:22:40.804196', '2025-02-01 08:22:40.804196') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.3ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Cheese and Corn', 'Medium', TRUE, 'New Hand Tossed', 175, 375, 475, '2025-02-01 08:22:40.812966', '2025-02-01 08:22:40.812966') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (2.9ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Paneer Tikka', 'Medium', TRUE, 'New Hand Tossed', 160, 290, 340, '2025-02-01 08:22:40.817726', '2025-02-01 08:22:40.817726') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (2.4ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Non-Veg Supreme', 'Medium', FALSE, 'New Hand Tossed', 190, 325, 425, '2025-02-01 08:22:40.822125', '2025-02-01 08:22:40.822125') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.1ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Chicken Tikka', 'Medium', FALSE, 'New Hand Tossed', 210, 370, 500, '2025-02-01 08:22:40.826318', '2025-02-01 08:22:40.826318') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (3.6ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Pepper Barbecue Chicken', 'Medium', FALSE, 'New Hand Tossed', 220, 380, 525, '2025-02-01 08:22:40.829291', '2025-02-01 08:22:40.829291') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (4.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Black Olive', TRUE, 20, '2025-02-01 08:22:40.840413', '2025-02-01 08:22:40.840413') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (10.4ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Capsicum', TRUE, 25, '2025-02-01 08:22:40.847358', '2025-02-01 08:22:40.847358') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.7ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Paneer', TRUE, 35, '2025-02-01 08:22:40.859187', '2025-02-01 08:22:40.859187') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.6ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Mushroom', TRUE, 30, '2025-02-01 08:22:40.861002', '2025-02-01 08:22:40.861002') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.6ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Fresh Tomato', TRUE, 10, '2025-02-01 08:22:40.863055', '2025-02-01 08:22:40.863055') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.6ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Chicken Tikka', FALSE, 35, '2025-02-01 08:22:40.864861', '2025-02-01 08:22:40.864861') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.7ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Barbeque Chicken', FALSE, 45, '2025-02-01 08:22:40.871527', '2025-02-01 08:22:40.871527') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.6ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Grilled Chicken', FALSE, 40, '2025-02-01 08:22:40.873523', '2025-02-01 08:22:40.873523') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.6ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Extra Cheese', TRUE, 35, '2025-02-01 08:22:40.875216', '2025-02-01 08:22:40.875216') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[31mROLLBACK /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0; /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT `order_items`.* FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (2.0ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (4.2ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 2 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (0.9ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 3 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (1.1ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 4 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (1.0ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 5 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (1.0ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 6 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (1.0ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.7ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 2 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.6ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 3 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.9ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 4 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 5 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 6 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.7ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 7 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (1.2ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 8 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.7ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 9 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Load (0.4ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.9ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Deluxe Veggie', 'Medium', TRUE, 'New Hand Tossed', 150, 200, 325, '2025-02-01 08:24:28.730322', '2025-02-01 08:24:28.730322') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.7ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Cheese and Corn', 'Medium', TRUE, 'New Hand Tossed', 175, 375, 475, '2025-02-01 08:24:28.733260', '2025-02-01 08:24:28.733260') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.7ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Paneer Tikka', 'Medium', TRUE, 'New Hand Tossed', 160, 290, 340, '2025-02-01 08:24:28.735232', '2025-02-01 08:24:28.735232') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.7ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Non-Veg Supreme', 'Medium', FALSE, 'New Hand Tossed', 190, 325, 425, '2025-02-01 08:24:28.737246', '2025-02-01 08:24:28.737246') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.8ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Chicken Tikka', 'Medium', FALSE, 'New Hand Tossed', 210, 370, 500, '2025-02-01 08:24:28.739557', '2025-02-01 08:24:28.739557') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.0ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Pepper Barbecue Chicken', 'Medium', FALSE, 'New Hand Tossed', 220, 380, 525, '2025-02-01 08:24:28.741872', '2025-02-01 08:24:28.741872') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Black Olive', TRUE, 20, '2025-02-01 08:24:28.744317', '2025-02-01 08:24:28.744317') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.7ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Capsicum', TRUE, 25, '2025-02-01 08:24:28.746512', '2025-02-01 08:24:28.746512') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Paneer', TRUE, 35, '2025-02-01 08:24:28.748487', '2025-02-01 08:24:28.748487') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Mushroom', TRUE, 30, '2025-02-01 08:24:28.750552', '2025-02-01 08:24:28.750552') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.7ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Fresh Tomato', TRUE, 10, '2025-02-01 08:24:28.752604', '2025-02-01 08:24:28.752604') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.7ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Chicken Tikka', FALSE, 35, '2025-02-01 08:24:28.754615', '2025-02-01 08:24:28.754615') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Barbeque Chicken', FALSE, 45, '2025-02-01 08:24:28.759848', '2025-02-01 08:24:28.759848') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Grilled Chicken', FALSE, 40, '2025-02-01 08:24:28.762055', '2025-02-01 08:24:28.762055') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.7ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Extra Cheese', TRUE, 35, '2025-02-01 08:24:28.764275', '2025-02-01 08:24:28.764275') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0; /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT `order_items`.* FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (1.4ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 7 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (5.5ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 8 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (4.0ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 9 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (0.9ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 10 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (0.8ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 11 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (1.0ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 12 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 10 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.9ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 11 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 12 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 13 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.9ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 14 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 15 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (1.1ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 16 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 17 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.9ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 18 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Load (0.5ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.0ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Deluxe Veggie', 'Medium', TRUE, 'New Hand Tossed', 150, 200, 325, '2025-02-01 08:25:28.128685', '2025-02-01 08:25:28.128685') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.8ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Cheese and Corn', 'Medium', TRUE, 'New Hand Tossed', 175, 375, 475, '2025-02-01 08:25:28.132114', '2025-02-01 08:25:28.132114') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.9ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Paneer Tikka', 'Medium', TRUE, 'New Hand Tossed', 160, 290, 340, '2025-02-01 08:25:28.134520', '2025-02-01 08:25:28.134520') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.8ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Non-Veg Supreme', 'Medium', FALSE, 'New Hand Tossed', 190, 325, 425, '2025-02-01 08:25:28.136809', '2025-02-01 08:25:28.136809') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.2ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Chicken Tikka', 'Medium', FALSE, 'New Hand Tossed', 210, 370, 500, '2025-02-01 08:25:28.139334', '2025-02-01 08:25:28.139334') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.9ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Pepper Barbecue Chicken', 'Medium', FALSE, 'New Hand Tossed', 220, 380, 525, '2025-02-01 08:25:28.141969', '2025-02-01 08:25:28.141969') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Black Olive', TRUE, 20, '2025-02-01 08:25:28.144358', '2025-02-01 08:25:28.144358') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.9ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Capsicum', TRUE, 25, '2025-02-01 08:25:28.146665', '2025-02-01 08:25:28.146665') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Paneer', TRUE, 35, '2025-02-01 08:25:28.149119', '2025-02-01 08:25:28.149119') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.9ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Mushroom', TRUE, 30, '2025-02-01 08:25:28.151234', '2025-02-01 08:25:28.151234') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Fresh Tomato', TRUE, 10, '2025-02-01 08:25:28.153562', '2025-02-01 08:25:28.153562') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (1.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Chicken Tikka', FALSE, 35, '2025-02-01 08:25:28.155787', '2025-02-01 08:25:28.155787') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (1.0ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Barbeque Chicken', FALSE, 45, '2025-02-01 08:25:28.161760', '2025-02-01 08:25:28.161760') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Grilled Chicken', FALSE, 40, '2025-02-01 08:25:28.164410', '2025-02-01 08:25:28.164410') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (1.0ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Extra Cheese', TRUE, 35, '2025-02-01 08:25:28.167057', '2025-02-01 08:25:28.167057') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT `order_items`.* FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (1.0ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 13 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (3.9ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 14 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (1.0ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 15 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (0.8ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 16 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (0.9ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 17 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (0.9ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 18 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (1.5ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 19 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.9ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 20 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 21 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (1.0ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 22 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.7ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 23 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.9ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 24 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 25 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 26 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.7ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 27 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Load (0.4ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.9ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Deluxe Veggie', 'Medium', TRUE, 'New Hand Tossed', 150, 200, 325, '2025-02-01 08:26:29.492925', '2025-02-01 08:26:29.492925') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.8ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Cheese and Corn', 'Medium', TRUE, 'New Hand Tossed', 175, 375, 475, '2025-02-01 08:26:29.496022', '2025-02-01 08:26:29.496022') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.0ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Paneer Tikka', 'Medium', TRUE, 'New Hand Tossed', 160, 290, 340, '2025-02-01 08:26:29.498336', '2025-02-01 08:26:29.498336') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.9ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Non-Veg Supreme', 'Medium', FALSE, 'New Hand Tossed', 190, 325, 425, '2025-02-01 08:26:29.500954', '2025-02-01 08:26:29.500954') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.8ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Chicken Tikka', 'Medium', FALSE, 'New Hand Tossed', 210, 370, 500, '2025-02-01 08:26:29.503660', '2025-02-01 08:26:29.503660') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.9ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Pepper Barbecue Chicken', 'Medium', FALSE, 'New Hand Tossed', 220, 380, 525, '2025-02-01 08:26:29.505917', '2025-02-01 08:26:29.505917') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.9ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Black Olive', TRUE, 20, '2025-02-01 08:26:29.508442', '2025-02-01 08:26:29.508442') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Capsicum', TRUE, 25, '2025-02-01 08:26:29.511068', '2025-02-01 08:26:29.511068') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Paneer', TRUE, 35, '2025-02-01 08:26:29.513257', '2025-02-01 08:26:29.513257') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Mushroom', TRUE, 30, '2025-02-01 08:26:29.515655', '2025-02-01 08:26:29.515655') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Fresh Tomato', TRUE, 10, '2025-02-01 08:26:29.517979', '2025-02-01 08:26:29.517979') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Chicken Tikka', FALSE, 35, '2025-02-01 08:26:29.520148', '2025-02-01 08:26:29.520148') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (1.0ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Barbeque Chicken', FALSE, 45, '2025-02-01 08:26:29.525664', '2025-02-01 08:26:29.525664') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Grilled Chicken', FALSE, 40, '2025-02-01 08:26:29.528395', '2025-02-01 08:26:29.528395') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Extra Cheese', TRUE, 35, '2025-02-01 08:26:29.530672', '2025-02-01 08:26:29.530672') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT `order_items`.* FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (2.5ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 19 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (5.1ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 20 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (2.2ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 21 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (1.0ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 22 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (0.6ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 23 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (2.4ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 24 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (1.5ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 28 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.7ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 29 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.7ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 30 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (1.0ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 31 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 32 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.7ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 33 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.6ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 34 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (5.1ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 35 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 36 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.0ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Deluxe Veggie', 'Medium', TRUE, 'New Hand Tossed', 150, 200, 325, '2025-02-01 08:28:59.826659', '2025-02-01 08:28:59.826659') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.7ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Cheese and Corn', 'Medium', TRUE, 'New Hand Tossed', 175, 375, 475, '2025-02-01 08:28:59.829833', '2025-02-01 08:28:59.829833') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.7ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Paneer Tikka', 'Medium', TRUE, 'New Hand Tossed', 160, 290, 340, '2025-02-01 08:28:59.832015', '2025-02-01 08:28:59.832015') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.0ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Non-Veg Supreme', 'Medium', FALSE, 'New Hand Tossed', 190, 325, 425, '2025-02-01 08:28:59.834588', '2025-02-01 08:28:59.834588') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.7ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Chicken Tikka', 'Medium', FALSE, 'New Hand Tossed', 210, 370, 500, '2025-02-01 08:28:59.837476', '2025-02-01 08:28:59.837476') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.7ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Pepper Barbecue Chicken', 'Medium', FALSE, 'New Hand Tossed', 220, 380, 525, '2025-02-01 08:28:59.839555', '2025-02-01 08:28:59.839555') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (1.1ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Black Olive', TRUE, 20, '2025-02-01 08:28:59.841993', '2025-02-01 08:28:59.841993') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.7ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Capsicum', TRUE, 25, '2025-02-01 08:28:59.844713', '2025-02-01 08:28:59.844713') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.7ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Paneer', TRUE, 35, '2025-02-01 08:28:59.846744', '2025-02-01 08:28:59.846744') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.7ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Mushroom', TRUE, 30, '2025-02-01 08:28:59.848748', '2025-02-01 08:28:59.848748') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Fresh Tomato', TRUE, 10, '2025-02-01 08:28:59.850670', '2025-02-01 08:28:59.850670') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Chicken Tikka', FALSE, 35, '2025-02-01 08:28:59.852775', '2025-02-01 08:28:59.852775') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Barbeque Chicken', FALSE, 45, '2025-02-01 08:28:59.858198', '2025-02-01 08:28:59.858198') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Grilled Chicken', FALSE, 40, '2025-02-01 08:28:59.861225', '2025-02-01 08:28:59.861225') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.7ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Extra Cheese', TRUE, 35, '2025-02-01 08:28:59.863379', '2025-02-01 08:28:59.863379') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT `order_items`.* FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (1.8ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 25 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (4.4ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 26 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (1.1ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 27 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (1.1ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 28 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (2.4ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 29 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Destroy (3.8ms)[0m  [1m[31mDELETE FROM `pizzas` WHERE `pizzas`.`id` = 30 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Load (0.7ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (1.0ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 37 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 38 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.7ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 39 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 40 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.7ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 41 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.7ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 42 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.7ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 43 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 44 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Destroy (0.8ms)[0m  [1m[31mDELETE FROM `toppings` WHERE `toppings`.`id` = 45 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Load (0.5ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.2ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Deluxe Veggie', 'Medium', TRUE, 'New Hand Tossed', 150, 200, 325, '2025-02-01 08:33:15.729924', '2025-02-01 08:33:15.729924') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.7ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Cheese and Corn', 'Medium', TRUE, 'New Hand Tossed', 175, 375, 475, '2025-02-01 08:33:15.733667', '2025-02-01 08:33:15.733667') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (3.8ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Paneer Tikka', 'Medium', TRUE, 'New Hand Tossed', 160, 290, 340, '2025-02-01 08:33:15.742997', '2025-02-01 08:33:15.742997') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.7ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Non-Veg Supreme', 'Medium', FALSE, 'New Hand Tossed', 190, 325, 425, '2025-02-01 08:33:39.547942', '2025-02-01 08:33:39.547942') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.0ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Chicken Tikka', 'Medium', FALSE, 'New Hand Tossed', 210, 370, 500, '2025-02-01 08:33:39.551758', '2025-02-01 08:33:39.551758') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (4.2ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `size`, `is_vegetarian`, `crust`, `price_regular`, `price_medium`, `price_large`, `created_at`, `updated_at`) VALUES ('Pepper Barbecue Chicken', 'Medium', FALSE, 'New Hand Tossed', 220, 380, 525, '2025-02-01 08:33:39.560312', '2025-02-01 08:33:39.560312') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (1.3ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Black Olive', TRUE, 20, '2025-02-01 08:33:55.662531', '2025-02-01 08:33:55.662531') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (1.6ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Capsicum', TRUE, 25, '2025-02-01 08:33:55.665952', '2025-02-01 08:33:55.665952') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (6.6ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Paneer', TRUE, 35, '2025-02-01 08:33:55.670818', '2025-02-01 08:33:55.670818') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (1.0ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Mushroom', TRUE, 30, '2025-02-01 08:33:55.687797', '2025-02-01 08:33:55.687797') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Fresh Tomato', TRUE, 10, '2025-02-01 08:33:55.690444', '2025-02-01 08:33:55.690444') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Chicken Tikka', FALSE, 35, '2025-02-01 08:33:55.692700', '2025-02-01 08:33:55.692700') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Barbeque Chicken', FALSE, 45, '2025-02-01 08:33:55.695347', '2025-02-01 08:33:55.695347') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `is_vegetarian`, `price`, `created_at`, `updated_at`) VALUES ('Grilled Chicken', FALSE, 40, '2025-02-01 08:33:55.697733', '2025-02-01 08:33:55.697733') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35m (37.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_development` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_test` /*application='MyPizzaFactory'*/[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_development` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_test` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) /*application='MyPizzaFactory'*/[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2025-02-01 13:56:38.234831', '2025-02-01 13:56:38.234833') /*application='MyPizzaFactory'*/[0m
Migrating to CreateCrusts (20250201135417)
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE `crusts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135417') /*application='MyPizzaFactory'*/[0m
Migrating to CreateToppings (20250201135428)
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE `toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `is_vegetarian` tinyint(1), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135428') /*application='MyPizzaFactory'*/[0m
Migrating to CreatePizzas (20250201135526)
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE `pizzas` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price_regular` decimal, `price_medium` decimal, `price_large` decimal, `crust_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_pizzas_on_crust_id` (`crust_id`), CONSTRAINT `fk_rails_cd6ddc59bc`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135526') /*application='MyPizzaFactory'*/[0m
Migrating to CreateSides (20250201135537)
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE `sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135537') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrders (20250201135547)
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `customer_name` varchar(255), `status` varchar(255), `total_amount` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135547') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderItems (20250201135559)
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE `order_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `pizza_id` bigint NOT NULL, `topping_id` bigint NOT NULL, `side_id` bigint NOT NULL, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_items_on_order_id` (`order_id`), INDEX `index_order_items_on_pizza_id` (`pizza_id`), INDEX `index_order_items_on_topping_id` (`topping_id`), INDEX `index_order_items_on_side_id` (`side_id`), CONSTRAINT `fk_rails_e3cb28f071`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
, CONSTRAINT `fk_rails_d28b17c368`
FOREIGN KEY (`pizza_id`)
  REFERENCES `pizzas` (`id`)
, CONSTRAINT `fk_rails_f0fe11be9c`
FOREIGN KEY (`topping_id`)
  REFERENCES `toppings` (`id`)
, CONSTRAINT `fk_rails_1b467f8eca`
FOREIGN KEY (`side_id`)
  REFERENCES `sides` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135559') /*application='MyPizzaFactory'*/[0m
Migrating to CreateInventories (20250201135608)
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE `inventories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `item_type` varchar(255), `item_id` int, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135608') /*application='MyPizzaFactory'*/[0m
Migrating to CreateJoinTablePizzaToppings (20250201135626)
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE `pizzas_toppings` (`pizza_id` bigint NOT NULL, `topping_id` bigint NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135626') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.3ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (0.2ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.2ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.2ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.3ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (0.2ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.3ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (0.3ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.2ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.2ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.2ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (0.4ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.3ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.3ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (0.2ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.2ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.3ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.2ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (0.3ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (4.7ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('New hand tossed', 0, '2025-02-01 14:05:41.420158', '2025-02-01 14:05:41.420158') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (2.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Wheat thin crust', 0, '2025-02-01 14:05:41.434693', '2025-02-01 14:05:41.434693') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.9ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cheese Burst', 0, '2025-02-01 14:05:41.439734', '2025-02-01 14:05:41.439734') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.8ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Fresh pan pizza', 0, '2025-02-01 14:05:41.442204', '2025-02-01 14:05:41.442204') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.3ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (0.3ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.3ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.2ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.2ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (1.5ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.2ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.2ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (0.2ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.2ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.1ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.2ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (0.2ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.3ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.4ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (0.3ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.3ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.3ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.3ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (0.3ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (5.0ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('New hand tossed', 0, '2025-02-01 14:08:08.858180', '2025-02-01 14:08:08.858180') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (1.9ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Wheat thin crust', 0, '2025-02-01 14:08:08.872934', '2025-02-01 14:08:08.872934') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.8ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cheese Burst', 0, '2025-02-01 14:08:08.876667', '2025-02-01 14:08:08.876667') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.8ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Fresh pan pizza', 0, '2025-02-01 14:08:08.879266', '2025-02-01 14:08:08.879266') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.8ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`) VALUES ('Deluxe Veggie', 150, 200, 325, 7, '2025-02-01 14:08:08.889565', '2025-02-01 14:08:08.889565') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.7ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`) VALUES ('Cheese and corn', 175, 375, 475, 7, '2025-02-01 14:08:08.891756', '2025-02-01 14:08:08.891756') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.0ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`) VALUES ('Paneer Tikka', 160, 290, 340, 8, '2025-02-01 14:08:08.894135', '2025-02-01 14:08:08.894135') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.8ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`) VALUES ('Non-Veg Supreme', 190, 325, 425, 8, '2025-02-01 14:08:08.896586', '2025-02-01 14:08:08.896586') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.7ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`) VALUES ('Chicken Tikka', 210, 370, 500, 5, '2025-02-01 14:08:08.898920', '2025-02-01 14:08:08.898920') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (1.3ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`) VALUES ('Pepper Barbecue Chicken', 220, 380, 525, 5, '2025-02-01 14:08:08.901001', '2025-02-01 14:08:08.901001') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.9ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Black olive', 20, TRUE, '2025-02-01 14:08:08.907420', '2025-02-01 14:08:08.907420') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Capsicum', 25, TRUE, '2025-02-01 14:08:08.909882', '2025-02-01 14:08:08.909882') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (1.0ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Paneer', 35, TRUE, '2025-02-01 14:08:08.912205', '2025-02-01 14:08:08.912205') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (1.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Mushroom', 30, TRUE, '2025-02-01 14:08:08.919798', '2025-02-01 14:08:08.919798') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.9ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Fresh tomato', 10, TRUE, '2025-02-01 14:08:08.922541', '2025-02-01 14:08:08.922541') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (1.4ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Chicken tikka', 35, FALSE, '2025-02-01 14:08:08.925169', '2025-02-01 14:08:08.925169') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.9ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Barbeque chicken', 45, FALSE, '2025-02-01 14:08:08.928197', '2025-02-01 14:08:08.928197') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (1.5ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Grilled chicken', 40, FALSE, '2025-02-01 14:08:08.930595', '2025-02-01 14:08:08.930595') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Extra cheese', 35, TRUE, '2025-02-01 14:08:08.933442', '2025-02-01 14:08:08.933442') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Create (0.9ms)[0m  [1m[32mINSERT INTO `sides` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cold drink', 55, '2025-02-01 14:08:08.942207', '2025-02-01 14:08:08.942207') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Create (0.7ms)[0m  [1m[32mINSERT INTO `sides` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Mousse cake', 90, '2025-02-01 14:08:08.944567', '2025-02-01 14:08:08.944567') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 1, 100, '2025-02-01 14:08:08.949268', '2025-02-01 14:08:08.949268') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 2, 100, '2025-02-01 14:08:08.951545', '2025-02-01 14:08:08.951545') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 3, 100, '2025-02-01 14:08:08.954038', '2025-02-01 14:08:08.954038') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (4.3ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 4, 100, '2025-02-01 14:08:08.956296', '2025-02-01 14:08:08.956296') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 5, 100, '2025-02-01 14:08:08.962059', '2025-02-01 14:08:08.962059') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 6, 100, '2025-02-01 14:08:08.964287', '2025-02-01 14:08:08.964287') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.1ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 1, 100, '2025-02-01 14:08:08.966374', '2025-02-01 14:08:08.966374') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.9ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 2, 100, '2025-02-01 14:08:08.968734', '2025-02-01 14:08:08.968734') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 3, 100, '2025-02-01 14:08:08.970959', '2025-02-01 14:08:08.970959') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.1ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 4, 100, '2025-02-01 14:08:08.973023', '2025-02-01 14:08:08.973023') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 5, 100, '2025-02-01 14:08:08.975328', '2025-02-01 14:08:08.975328') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.9ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 6, 100, '2025-02-01 14:08:08.977310', '2025-02-01 14:08:08.977310') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 7, 100, '2025-02-01 14:08:08.979616', '2025-02-01 14:08:08.979616') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 8, 100, '2025-02-01 14:08:08.981789', '2025-02-01 14:08:08.981789') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Side', 1, 100, '2025-02-01 14:08:08.983859', '2025-02-01 14:08:08.983859') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Side', 2, 100, '2025-02-01 14:08:08.986000', '2025-02-01 14:08:08.986000') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (2.4ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 5, 100, '2025-02-01 14:08:08.988233', '2025-02-01 14:08:08.988233') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 6, 100, '2025-02-01 14:08:08.992452', '2025-02-01 14:08:08.992452') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.1ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 7, 100, '2025-02-01 14:08:08.994618', '2025-02-01 14:08:08.994618') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.2ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 8, 100, '2025-02-01 14:08:08.997157', '2025-02-01 14:08:08.997157') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-01 22:30:22 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings"=>["Chicken Tikka", "Grilled Chicken"]}]}}
Completed 500 Internal Server Error in 23ms (ActiveRecord: 6.3ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'pizzas' for Order.)
Caused by: NoMethodError (undefined method `pizzas=' for an instance of Order)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'pizzas' for Order.):
  
app/controllers/orders_controller.rb:3:in `create'

Information for cause: NoMethodError (undefined method `pizzas=' for an instance of Order):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-01 22:32:57 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings"=>["Chicken Tikka", "Grilled Chicken"]}]}}
Completed 500 Internal Server Error in 28ms (ActiveRecord: 5.0ms (0 queries, 0 cached) | GC: 0.2ms)


  
ActiveRecord::AssociationTypeMismatch (Pizza(#29380) expected, got {"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]} which is an instance of ActiveSupport::HashWithIndifferentAccess(#29400)):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-01 22:38:00 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings"=>["Chicken Tikka", "Grilled Chicken"]}]}}
[31mUnpermitted parameter: :pizzas. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x000000011c630200>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings"=>["Chicken Tikka", "Grilled Chicken"]}]}, "controller"=>"orders", "action"=>"create"} }[0m
[31mUnpermitted parameter: :pizzas. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x000000011c630200>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings"=>["Chicken Tikka", "Grilled Chicken"]}]}, "controller"=>"orders", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 20ms (ActiveRecord: 7.3ms (0 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `each' for nil):
  
app/controllers/orders_controller.rb:6:in `create'
Started POST "/orders" for ::1 at 2025-02-01 22:39:51 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings"=>["Chicken Tikka", "Grilled Chicken"]}]}}
[31mUnpermitted parameter: :toppings. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x0000000133235648>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings"=>["Chicken Tikka", "Grilled Chicken"]}]}, "controller"=>"orders", "action"=>"create"} }[0m
[31mUnpermitted parameter: :toppings. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x0000000133235648>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings"=>["Chicken Tikka", "Grilled Chicken"]}]}, "controller"=>"orders", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.5ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::AssociationTypeMismatch (Pizza(#29380) expected, got {"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true} which is an instance of ActiveSupport::HashWithIndifferentAccess(#29400)):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-01 22:41:43 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 3.6ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'pizzas_attributes' for Order.)
Caused by: NoMethodError (undefined method `pizzas_attributes=' for an instance of Order)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'pizzas_attributes' for Order.):
  
app/controllers/orders_controller.rb:3:in `create'

Information for cause: NoMethodError (undefined method `pizzas_attributes=' for an instance of Order):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-01 22:42:42 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
Completed 500 Internal Server Error in 29ms (ActiveRecord: 9.9ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'size' for Pizza.)
Caused by: NoMethodError (undefined method `size=' for an instance of Pizza)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'size' for Pizza.):
  
app/controllers/orders_controller.rb:3:in `create'

Information for cause: NoMethodError (undefined method `size=' for an instance of Pizza):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-01 22:44:02 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
Completed 500 Internal Server Error in 28ms (ActiveRecord: 15.6ms (0 queries, 0 cached) | GC: 2.1ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'size' for Pizza.)
Caused by: NoMethodError (undefined method `size=' for an instance of Pizza)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'size' for Pizza.):
  
app/controllers/orders_controller.rb:3:in `create'

Information for cause: NoMethodError (undefined method `size=' for an instance of Pizza):
  
app/controllers/orders_controller.rb:3:in `create'
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to AddSizeToPizzas (20250201171514)
  [1m[35m (22.0ms)[0m  [1m[35mALTER TABLE `pizzas` ADD `size` varchar(255) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201171514') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-01 22:46:32 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
Completed 500 Internal Server Error in 47ms (ActiveRecord: 12.2ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::AssociationTypeMismatch (Crust(#21840) expected, got "New hand tossed" which is an instance of String(#2920)):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-01 22:46:44 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::AssociationTypeMismatch (Crust(#21840) expected, got "New hand tossed" which is an instance of String(#2920)):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-01 22:46:45 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::AssociationTypeMismatch (Crust(#21840) expected, got "New hand tossed" which is an instance of String(#2920)):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-01 22:51:41 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
[31mUnpermitted parameter: :crust. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x000000012eb946a8>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}, "controller"=>"orders", "action"=>"create"} }[0m
[31mUnpermitted parameter: :crust. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x000000012eb946a8>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}, "controller"=>"orders", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 49788ms (ActiveRecord: 8.7ms (0 queries, 0 cached) | GC: 63.0ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'is_vegetarian' for Pizza.)
Caused by: NoMethodError (undefined method `is_vegetarian=' for an instance of Pizza)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'is_vegetarian' for Pizza.):
  
app/controllers/orders_controller.rb:4:in `create'

Information for cause: NoMethodError (undefined method `is_vegetarian=' for an instance of Pizza):
  
app/controllers/orders_controller.rb:4:in `create'
Started POST "/orders" for ::1 at 2025-02-01 22:52:38 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
[31mUnpermitted parameter: :crust. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x000000012bcd4a70>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}, "controller"=>"orders", "action"=>"create"} }[0m
[31mUnpermitted parameter: :crust. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x000000012bcd4a70>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}, "controller"=>"orders", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 22ms (ActiveRecord: 11.4ms (0 queries, 0 cached) | GC: 1.8ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'is_vegetarian' for Pizza.)
Caused by: NoMethodError (undefined method `is_vegetarian=' for an instance of Pizza)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'is_vegetarian' for Pizza.):
  
app/controllers/orders_controller.rb:3:in `create'

Information for cause: NoMethodError (undefined method `is_vegetarian=' for an instance of Pizza):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-01 22:53:18 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
Completed 500 Internal Server Error in 13831ms (ActiveRecord: 24.7ms (0 queries, 0 cached) | GC: 68.5ms)


  
ActiveRecord::AssociationTypeMismatch (Crust(#44720) expected, got "New hand tossed" which is an instance of String(#2920)):
  
app/controllers/orders_controller.rb:4:in `create'
Started POST "/orders" for ::1 at 2025-02-01 22:54:02 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
[31mUnpermitted parameter: :crust. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x000000012aa773a0>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}, "controller"=>"orders", "action"=>"create"} }[0m
[31mUnpermitted parameter: :crust. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x000000012aa773a0>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}, "controller"=>"orders", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 20ms (ActiveRecord: 9.4ms (0 queries, 0 cached) | GC: 1.2ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'is_vegetarian' for Pizza.)
Caused by: NoMethodError (undefined method `is_vegetarian=' for an instance of Pizza)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'is_vegetarian' for Pizza.):
  
app/controllers/orders_controller.rb:3:in `create'

Information for cause: NoMethodError (undefined method `is_vegetarian=' for an instance of Pizza):
  
app/controllers/orders_controller.rb:3:in `create'
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-02 07:04:12 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
Completed 500 Internal Server Error in 58ms (ActiveRecord: 16.1ms (0 queries, 0 cached) | GC: 8.5ms)


  
ActiveRecord::AssociationTypeMismatch (Crust(#21860) expected, got "New hand tossed" which is an instance of String(#2920)):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-02 07:06:45 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
Completed 500 Internal Server Error in 42ms (ActiveRecord: 10.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::AssociationTypeMismatch (Crust(#21840) expected, got "New hand tossed" which is an instance of String(#2920)):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-02 07:12:36 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
Completed 500 Internal Server Error in 19ms (ActiveRecord: 7.4ms (0 queries, 0 cached) | GC: 2.1ms)


  
ActiveRecord::AssociationTypeMismatch (Crust(#29460) expected, got "New hand tossed" which is an instance of String(#2920)):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-02 07:13:04 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas_attributes"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
Completed 500 Internal Server Error in 19ms (ActiveRecord: 9.5ms (0 queries, 0 cached) | GC: 0.2ms)


  
ActiveRecord::AssociationTypeMismatch (Crust(#37060) expected, got "New hand tossed" which is an instance of String(#2920)):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-02 07:21:00 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}, {"name"=>"Chicken Tikka", "size"=>"Medium", "crust"=>"Cheese Burst", "is_vegetarian"=>false, "toppings_attributes"=>[{"name"=>"Chicken Tikka"}, {"name"=>"Grilled Chicken"}]}]}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)


  
ActiveRecord::AssociationTypeMismatch (Pizza(#44680) expected, got {"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]} which is an instance of ActiveSupport::HashWithIndifferentAccess(#44700)):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-02 07:30:40 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Error occurred while parsing request parameters.
Contents:

{
  "order": {
    "customer_name": "John Doe",
    "pizzas": [
      {
        "name": "Deluxe Veggie",
        "size": "Large",  
        "crust": "New hand tossed",
        "is_vegetarian": true,
        "toppings_attributes": [
          { "name": "Black Olive" },
          { "name": "Capsicum" }
        ]
    
    
    
    
    
    
    
    
    
    
    
    ]
  }
}

Processing by OrdersController#create as */*
Completed 400 Bad Request in 6ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters)
Caused by: JSON::ParserError (unexpected token at '{
        "name": "Deluxe Veggie')

Information for: ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/orders_controller.rb:53:in `order_params'
app/controllers/orders_controller.rb:3:in `create'

Information for cause: JSON::ParserError (unexpected token at '{
        "name": "Deluxe Veggie'):
  
app/controllers/orders_controller.rb:53:in `order_params'
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-02 07:31:55 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}]}}
Completed 500 Internal Server Error in 29ms (ActiveRecord: 6.8ms (0 queries, 0 cached) | GC: 0.3ms)


  
ActiveRecord::AssociationTypeMismatch (Pizza(#21920) expected, got {"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]} which is an instance of ActiveSupport::HashWithIndifferentAccess(#21940)):
  
app/controllers/orders_controller.rb:3:in `create'
Started POST "/orders" for ::1 at 2025-02-02 07:33:41 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}]}}
Completed 500 Internal Server Error in 359182ms (ActiveRecord: 10.9ms (0 queries, 0 cached) | GC: 34.5ms)


  
ActiveRecord::AssociationTypeMismatch (Pizza(#29540) expected, got {"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]} which is an instance of ActiveSupport::HashWithIndifferentAccess(#21940)):
  
app/controllers/orders_controller.rb:4:in `create'
Started POST "/orders" for ::1 at 2025-02-02 07:39:57 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}]}}
Completed 500 Internal Server Error in 19814ms (ActiveRecord: 32.1ms (0 queries, 0 cached) | GC: 55.2ms)


  
NoMethodError (undefined method `each' for nil):
  
app/controllers/orders_controller.rb:7:in `create'
Started POST "/orders" for ::1 at 2025-02-02 07:40:41 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}]}}
Completed 500 Internal Server Error in 65677ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 8.2ms)


  
NoMethodError (undefined method `each' for nil):
  
app/controllers/orders_controller.rb:7:in `create'
Started POST "/orders" for ::1 at 2025-02-02 07:41:51 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}]}}
  [1m[36mPizza Load (4.1ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' AND `pizzas`.`size` = 'Large' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mPizza Load (4.7ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
Started GET "//pizzas" for ::1 at 2025-02-02 07:45:13 +0530
  [1m[36mCACHE Pizza Load (0.1ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' AND `pizzas`.`size` = 'Large' LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
Completed 404 Not Found in 394967ms (Views: 0.2ms | ActiveRecord: 38.0ms (3 queries, 1 cached) | GC: 54.6ms)


  
ActionController::RoutingError (uninitialized constant PizzasController)
Caused by: ActionDispatch::MissingController (uninitialized constant PizzasController)
Caused by: NameError (uninitialized constant PizzasController)

Information for: ActionController::RoutingError (uninitialized constant PizzasController):
  

Information for cause: ActionDispatch::MissingController (uninitialized constant PizzasController):
  
actionpack (8.0.1) lib/action_dispatch/http/request.rb:102:in `rescue in controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:98:in `controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:91:in `controller_class'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:61:in `controller'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:48:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.9) lib/rack/etag.rb:29:in `call'
rack (3.1.9) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.9) lib/rack/head.rb:15:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'

Information for cause: NameError (uninitialized constant PizzasController):
  
activesupport (8.0.1) lib/active_support/inflector/methods.rb:290:in `constantize'
activesupport (8.0.1) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:99:in `controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:91:in `controller_class'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:61:in `controller'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:48:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.9) lib/rack/etag.rb:29:in `call'
rack (3.1.9) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.9) lib/rack/head.rb:15:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/orders" for ::1 at 2025-02-02 07:48:31 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings_attributes"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}]}}
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mCrust Load (1.1ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:13:in `block in create'
  [1m[36mTopping Load (2.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`name` IS NULL /* loading for inspect */ LIMIT 11 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mTopping Load (1.5ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`name` IS NULL AND `toppings`.`is_vegetarian` = FALSE /* loading for inspect */ LIMIT 11 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mCACHE Topping Load (0.1ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`name` IS NULL /* loading for inspect */ LIMIT 11[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mTopping Exists? (4.9ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` IS NULL AND `toppings`.`is_vegetarian` = FALSE LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mTopping Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `toppings` WHERE `toppings`.`name` IS NULL /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:27:in `block in create'
Completed 500 Internal Server Error in 81390ms (ActiveRecord: 37.3ms (7 queries, 1 cached) | GC: 133.5ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'crust' for OrderItem.)
Caused by: NoMethodError (undefined method `crust=' for an instance of OrderItem)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'crust' for OrderItem.):
  
app/controllers/orders_controller.rb:31:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'

Information for cause: NoMethodError (undefined method `crust=' for an instance of OrderItem):
  
app/controllers/orders_controller.rb:31:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'
Started POST "/orders" for ::1 at 2025-02-02 07:49:58 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>[{"name"=>"Black Olive"}, {"name"=>"Capsicum"}]}]}}
  [1m[36mPizza Load (2.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mCrust Load (3.6ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:13:in `block in create'
Completed 500 Internal Server Error in 538839ms (ActiveRecord: 5.9ms (2 queries, 0 cached) | GC: 35.2ms)


  
TypeError (can't quote ActionController::Parameters):
  
app/controllers/orders_controller.rb:19:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'
Started POST "/orders" for ::1 at 2025-02-02 07:59:43 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}]}}
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mCrust Load (3.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:13:in `block in create'
  [1m[36mTopping Load (1.5ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') /* loading for inspect */ LIMIT 11 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:17:in `block in create'
  [1m[36mTopping Load (3.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') AND `toppings`.`is_vegetarian` = FALSE /* loading for inspect */ LIMIT 11 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:17:in `block in create'
  [1m[36mTopping Load (1.5ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') AND `toppings`.`is_vegetarian` = TRUE /* loading for inspect */ LIMIT 11 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:17:in `block in create'
  [1m[36mTopping Exists? (5.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') AND `toppings`.`is_vegetarian` = FALSE LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mTopping Count (4.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:27:in `block in create'
Completed 500 Internal Server Error in 109424ms (ActiveRecord: 44.2ms (7 queries, 0 cached) | GC: 172.6ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'crust' for OrderItem.)
Caused by: NoMethodError (undefined method `crust=' for an instance of OrderItem)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'crust' for OrderItem.):
  
app/controllers/orders_controller.rb:31:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'

Information for cause: NoMethodError (undefined method `crust=' for an instance of OrderItem):
  
app/controllers/orders_controller.rb:31:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to AddCrustToOrderItems (20250202023936)
  [1m[35m (14.1ms)[0m  [1m[35mALTER TABLE `order_items` ADD `Crust` int /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202023936') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Migrating to AddCrustToOrderItems (20250202023936)
  [1m[35m (12.4ms)[0m  [1m[35mALTER TABLE `order_items` DROP COLUMN `Crust` /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (1.0ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20250202023936' /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to AddCrustToOrderItems (20250202023936)
  [1m[35m (10.6ms)[0m  [1m[35mALTER TABLE `order_items` ADD `crus_id` int /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202023936') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-02 08:37:40 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}]}}
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:7:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') AND `toppings`.`is_vegetarian` = FALSE LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:16:in `block in create'
  [1m[36mTopping Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
Completed 500 Internal Server Error in 346613ms (ActiveRecord: 18.2ms (4 queries, 0 cached) | GC: 37.1ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block in create'
app/controllers/orders_controller.rb:29:in `block in create'
app/controllers/orders_controller.rb:6:in `each'
app/controllers/orders_controller.rb:6:in `create'
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Migrating to AddCrustToOrderItems (20250202023936)
  [1m[35m (13.6ms)[0m  [1m[35mALTER TABLE `order_items` DROP COLUMN `crus_id` /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (1.7ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20250202023936' /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to AddCrustToOrderItems (20250202023936)
  [1m[35m (12.0ms)[0m  [1m[35mALTER TABLE `order_items` ADD `crust_id` int /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202023936') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-02 08:44:56 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}]}}
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:7:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') AND `toppings`.`is_vegetarian` = FALSE LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:16:in `block in create'
  [1m[36mTopping Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
Completed 500 Internal Server Error in 59536ms (ActiveRecord: 17.3ms (4 queries, 0 cached) | GC: 64.6ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block in create'
app/controllers/orders_controller.rb:29:in `block in create'
app/controllers/orders_controller.rb:6:in `each'
app/controllers/orders_controller.rb:6:in `create'
Started POST "/orders" for ::1 at 2025-02-02 08:46:01 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}]}}
  [1m[36mPizza Load (2.0ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:7:in `block in create'
  [1m[36mCrust Load (2.0ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Exists? (3.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') AND `toppings`.`is_vegetarian` = FALSE LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:16:in `block in create'
  [1m[36mTopping Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTopping Load (0.9ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') /* loading for inspect */ LIMIT 11 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mTopping Load (2.2ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mCACHE Topping Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum')[0m
  ↳ app/controllers/orders_controller.rb:36:in `block (2 levels) in create'
  [1m[36mCACHE Topping Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum')[0m
  ↳ app/controllers/orders_controller.rb:36:in `block (2 levels) in create'
Completed 422 Unprocessable Content in 203924ms (Views: 0.2ms | ActiveRecord: 48.2ms (8 queries, 2 cached) | GC: 177.6ms)


Started POST "/orders" for ::1 at 2025-02-02 08:49:28 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}]}}
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:7:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') AND `toppings`.`is_vegetarian` = FALSE LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:16:in `block in create'
  [1m[36mTopping Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:33:in `block in create'
  [1m[36mCACHE Topping Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum')[0m
  ↳ app/controllers/orders_controller.rb:36:in `block (2 levels) in create'
  [1m[36mCACHE Topping Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum')[0m
  ↳ app/controllers/orders_controller.rb:36:in `block (2 levels) in create'
Completed 422 Unprocessable Content in 259961ms (Views: 0.2ms | ActiveRecord: 20.2ms (7 queries, 2 cached) | GC: 36.3ms)


Started POST "/orders" for ::1 at 2025-02-02 08:54:06 +0530
  
ArgumentError (You need to supply at least one validation):
  
app/models/order.rb:4:in `<class:Order>'
app/models/order.rb:1:in `<main>'
Started POST "/orders" for ::1 at 2025-02-02 08:54:11 +0530
  
ArgumentError (You need to supply at least one validation):
  
app/models/order.rb:4:in `<class:Order>'
app/models/order.rb:1:in `<main>'
Started POST "/orders" for ::1 at 2025-02-02 08:54:23 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  
ArgumentError (You need to supply at least one validation):
  
app/models/order.rb:4:in `<class:Order>'
app/models/order.rb:1:in `<main>'
Started POST "/orders" for ::1 at 2025-02-02 09:18:26 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Large", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}]}}
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:7:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') AND `toppings`.`is_vegetarian` = FALSE LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:16:in `block in create'
  [1m[36mTopping Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTopping Load (0.5ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:33:in `block in create'
  [1m[36mCACHE Topping Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum')[0m
  ↳ app/controllers/orders_controller.rb:36:in `block (2 levels) in create'
  [1m[36mCACHE Topping Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum')[0m
  ↳ app/controllers/orders_controller.rb:36:in `block (2 levels) in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:13:in `block in check_inventory_availability'
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:13:in `block in check_inventory_availability'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 325, '2025-02-02 03:50:04.537610', '2025-02-02 03:50:04.537610') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:42:in `create'
  [1m[36mOrderItem Create (3.0ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`) VALUES (1, 1, 2, NULL, 1, '2025-02-02 03:50:04.573302', '2025-02-02 03:50:04.573302', 5) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:42:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:42:in `create'
Completed 500 Internal Server Error in 97792ms (ActiveRecord: 40.3ms (10 queries, 2 cached) | GC: 15.0ms)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'side_id' cannot be null)
Caused by: Mysql2::Error (Column 'side_id' cannot be null)

Information for: ActiveRecord::NotNullViolation (Mysql2::Error: Column 'side_id' cannot be null):
  

Information for cause: Mysql2::Error (Column 'side_id' cannot be null):
  
app/controllers/orders_controller.rb:42:in `create'
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to ChangeSideIdToNullableInOrderSides (20250202035725)
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to ChangeSideIdToNullableInOrderSides (20250202035725)
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to ChangeSideIdToNullableInOrderSides (20250202035725)
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to ChangeSideIdToNullableInOrderItems (20250202035725)
  [1m[35m (25.4ms)[0m  [1m[35mALTER TABLE `order_items` CHANGE `side_id` `side_id` bigint DEFAULT NULL /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202035725') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-02 09:32:22 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"name"=>"Deluxe Veggie", "size"=>"Medium", "crust"=>"New hand tossed", "is_vegetarian"=>true, "toppings"=>["Black Olive", "Capsicum"]}]}}
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:7:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') AND `toppings`.`is_vegetarian` = FALSE LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:16:in `block in create'
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`name` IN ('Black Olive', 'Capsicum') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:13:in `block in check_inventory_availability'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:13:in `block in check_inventory_availability'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 245, '2025-02-02 04:02:39.103508', '2025-02-02 04:02:39.103508') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:41:in `create'
  [1m[36mOrderItem Create (0.7ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`) VALUES (2, 1, 2, NULL, 1, '2025-02-02 04:02:39.122417', '2025-02-02 04:02:39.122417', 5) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:41:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:41:in `create'
Completed 201 Created in 16452ms (Views: 0.3ms | ActiveRecord: 26.3ms (7 queries, 0 cached) | GC: 20.7ms)


Started POST "/orders" for ::1 at 2025-02-02 16:30:56 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>2, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
[31mUnpermitted parameters: :customer_name, :pizzas. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x0000000125f10650>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>2, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}, "controller"=>"orders", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 177560ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 19.8ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `create'
app/controllers/orders_controller.rb:6:in `create'
Started POST "/orders" for ::1 at 2025-02-02 16:34:01 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>2, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
[31mUnpermitted parameters: :customer_name, :pizzas. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x00000001264b47f0>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>2, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}, "controller"=>"orders", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 76ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 29.5ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'total_price' for Order.)
Caused by: NoMethodError (undefined method `total_price=' for an instance of Order)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'total_price' for Order.):
  
app/controllers/orders_controller.rb:5:in `create'

Information for cause: NoMethodError (undefined method `total_price=' for an instance of Order):
  
app/controllers/orders_controller.rb:5:in `create'
Started POST "/orders" for ::1 at 2025-02-02 16:35:32 +0530
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>2, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
[31mUnpermitted parameters: :customer_name, :pizzas. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x0000000126694b10>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>2, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}, "controller"=>"orders", "action"=>"create"} }[0m
  [1m[36mPizza Load (10.7ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (1.5ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
Completed 404 Not Found in 279ms (ActiveRecord: 13.8ms (2 queries, 0 cached) | GC: 102.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Crust with 'id'=2):
  
app/controllers/orders_controller.rb:9:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'
Started POST "/orders" for ::1 at 2025-02-02 16:36:13 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
[31mUnpermitted parameters: :customer_name, :pizzas. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x00000001261b3b78>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}, "controller"=>"orders", "action"=>"create"} }[0m
  [1m[36mPizza Load (1.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (1.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
Completed 500 Internal Server Error in 318ms (ActiveRecord: 2.3ms (2 queries, 0 cached) | GC: 120.8ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'size' for OrderItem.)
Caused by: NoMethodError (undefined method `size=' for an instance of OrderItem)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'size' for OrderItem.):
  
app/controllers/orders_controller.rb:10:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'

Information for cause: NoMethodError (undefined method `size=' for an instance of OrderItem):
  
app/controllers/orders_controller.rb:10:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'
Started POST "/orders" for ::1 at 2025-02-02 16:37:53 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
[31mUnpermitted parameters: :customer_name, :pizzas. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x000000012651ef60>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}, "controller"=>"orders", "action"=>"create"} }[0m
  [1m[36mPizza Load (1.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (1.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
Completed 500 Internal Server Error in 1437496ms (ActiveRecord: 29.4ms (2 queries, 0 cached) | GC: 229.3ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `create'
app/controllers/orders_controller.rb:18:in `create'
Started POST "/orders" for ::1 at 2025-02-02 17:01:56 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
[31mUnpermitted parameters: :customer_name, :pizzas. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x0000000125ffc960>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}, "controller"=>"orders", "action"=>"create"} }[0m
  [1m[36mPizza Load (8.2ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (1.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
Completed 500 Internal Server Error in 450ms (ActiveRecord: 11.0ms (2 queries, 0 cached) | GC: 167.5ms)


  
NoMethodError (undefined method `order_toppings' for an instance of OrderItem):
  
app/controllers/orders_controller.rb:13:in `block (2 levels) in create'
app/controllers/orders_controller.rb:12:in `each'
app/controllers/orders_controller.rb:12:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'
Started POST "/orders" for ::1 at 2025-02-02 17:09:19 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
[31mUnpermitted parameters: :customer_name, :pizzas. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x000000012647ad20>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}, "controller"=>"orders", "action"=>"create"} }[0m
  [1m[36mPizza Load (1.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (1.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
Completed 500 Internal Server Error in 555ms (ActiveRecord: 30.9ms (2 queries, 0 cached) | GC: 207.3ms)


  
NoMethodError (undefined method `order_toppings' for an instance of OrderItem):
  
app/controllers/orders_controller.rb:13:in `block (2 levels) in create'
app/controllers/orders_controller.rb:12:in `each'
app/controllers/orders_controller.rb:12:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'
Started POST "/orders" for ::1 at 2025-02-02 17:09:38 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
[31mUnpermitted parameters: :customer_name, :pizzas. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x000000012657f658>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}, "controller"=>"orders", "action"=>"create"} }[0m
  [1m[36mPizza Load (1.0ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (2.1ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
Completed 500 Internal Server Error in 1010030ms (ActiveRecord: 24.9ms (2 queries, 0 cached) | GC: 291.5ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block (2 levels) in create'
app/controllers/orders_controller.rb:14:in `block (2 levels) in create'
app/controllers/orders_controller.rb:12:in `each'
app/controllers/orders_controller.rb:12:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderItemToppings (20250202115634)
  [1m[35m (21.2ms)[0m  [1m[35mCREATE TABLE `order_item_toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_item_id` bigint NOT NULL, `topping_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_item_toppings_on_order_item_id` (`order_item_id`), INDEX `index_order_item_toppings_on_topping_id` (`topping_id`), CONSTRAINT `fk_rails_dc7b80a860`
FOREIGN KEY (`order_item_id`)
  REFERENCES `order_items` (`id`)
, CONSTRAINT `fk_rails_8bc35592b7`
FOREIGN KEY (`topping_id`)
  REFERENCES `toppings` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202115634') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-02 17:28:25 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
[31mUnpermitted parameters: :customer_name, :pizzas. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x000000012f29ebb0>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}, "controller"=>"orders", "action"=>"create"} }[0m
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.6ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block (2 levels) in create'
  [1m[36mCACHE Topping Load (0.1ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` = 1 LIMIT 1[0m
  ↳ (byebug):1:in `block (2 levels) in create'
  [1m[36mCACHE Topping Load (0.0ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` = 1 LIMIT 1[0m
  ↳ (byebug):1:in `block (2 levels) in create'
Completed 500 Internal Server Error in 181845ms (ActiveRecord: 24.3ms (5 queries, 2 cached) | GC: 58.9ms)


  
NoMethodError (undefined method `order_toppings' for an instance of OrderItem):
  
app/controllers/orders_controller.rb:15:in `block (2 levels) in create'
app/controllers/orders_controller.rb:12:in `each'
app/controllers/orders_controller.rb:12:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'
Started POST "/orders" for ::1 at 2025-02-02 17:32:25 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
[31mUnpermitted parameters: :customer_name, :pizzas. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x00000001380f85c8>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}, "controller"=>"orders", "action"=>"create"} }[0m
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.2ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:13:in `block (2 levels) in create'
  [1m[36mTopping Load (0.2ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:13:in `block (2 levels) in create'
Completed 500 Internal Server Error in 283123ms (ActiveRecord: 14.9ms (4 queries, 0 cached) | GC: 22.3ms)


  
NoMethodError (private method `confirm_order!' called for an instance of Order):
  
app/controllers/orders_controller.rb:24:in `create'
Started POST "/orders" for ::1 at 2025-02-02 17:37:12 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
[31mUnpermitted parameters: :customer_name, :pizzas. Context: { controller: OrdersController, action: create, request: #<ActionDispatch::Request:0x00000001380b11a0>, params: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}, "controller"=>"orders", "action"=>"create"} }[0m
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`name` IS NULL LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.5ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`name` IS NULL LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
Completed 422 Unprocessable Content in 17ms (Views: 0.1ms | ActiveRecord: 7.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/orders" for ::1 at 2025-02-02 17:39:19 +0530
  
Zeitwerk::NameError (wrong constant name OrdersController copy inferred by Module from file

  /Users/PNL3/workspace/RND/assignments/MyPizzaFactory/app/controllers/orders_controller copy.rb

Possible ways to address this:

  * Tell Zeitwerk to ignore this particular file.
  * Tell Zeitwerk to ignore one of its parent directories.
  * Rename the file to comply with the naming conventions.
  * Modify the inflector to handle this case.
)
Caused by: NameError (wrong constant name OrdersController copy)

Information for: Zeitwerk::NameError (wrong constant name OrdersController copy inferred by Module from file

  /Users/PNL3/workspace/RND/assignments/MyPizzaFactory/app/controllers/orders_controller copy.rb

Possible ways to address this:

  * Tell Zeitwerk to ignore this particular file.
  * Tell Zeitwerk to ignore one of its parent directories.
  * Rename the file to comply with the naming conventions.
  * Modify the inflector to handle this case.
):
  
zeitwerk (2.7.1) lib/zeitwerk/loader/helpers.rb:130:in `rescue in cname_for'
zeitwerk (2.7.1) lib/zeitwerk/loader/helpers.rb:125:in `cname_for'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:448:in `block in define_autoloads_for_dir'
zeitwerk (2.7.1) lib/zeitwerk/loader/helpers.rb:47:in `block in ls'
zeitwerk (2.7.1) lib/zeitwerk/loader/helpers.rb:25:in `each'
zeitwerk (2.7.1) lib/zeitwerk/loader/helpers.rb:25:in `ls'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:445:in `define_autoloads_for_dir'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:125:in `block (2 levels) in setup'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:124:in `each'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:124:in `block in setup'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:121:in `synchronize'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:121:in `setup'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:231:in `reload'
activesupport (8.0.1) lib/active_support/dependencies.rb:78:in `block in clear'
activesupport (8.0.1) lib/active_support/concurrency/share_lock.rb:150:in `exclusive'
activesupport (8.0.1) lib/active_support/dependencies/interlock.rb:17:in `unloading'
activesupport (8.0.1) lib/active_support/dependencies.rb:31:in `unload_interlock'
activesupport (8.0.1) lib/active_support/dependencies.rb:76:in `clear'
railties (8.0.1) lib/rails/application/finisher.rb:188:in `block (2 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
railties (8.0.1) lib/rails/application/finisher.rb:217:in `block (3 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/callbacks.rb:109:in `run_callbacks'
activesupport (8.0.1) lib/active_support/reloader.rb:128:in `class_unload!'
railties (8.0.1) lib/rails/application/finisher.rb:216:in `block (2 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/callbacks.rb:406:in `instance_exec'
activesupport (8.0.1) lib/active_support/callbacks.rb:406:in `block in make_lambda'
activesupport (8.0.1) lib/active_support/callbacks.rb:178:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:667:in `block (2 levels) in default_terminator'
activesupport (8.0.1) lib/active_support/callbacks.rb:666:in `catch'
activesupport (8.0.1) lib/active_support/callbacks.rb:666:in `block in default_terminator'
activesupport (8.0.1) lib/active_support/callbacks.rb:179:in `call'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `block in invoke_before'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `each'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `invoke_before'
activesupport (8.0.1) lib/active_support/callbacks.rb:108:in `run_callbacks'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:128:in `run'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:124:in `run!'
activesupport (8.0.1) lib/active_support/reloader.rb:122:in `run!'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:77:in `block in run!'
<internal:kernel>:90:in `tap'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:74:in `run!'
activesupport (8.0.1) lib/active_support/reloader.rb:64:in `run!'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'

Information for cause: NameError (wrong constant name OrdersController copy):
  
zeitwerk (2.7.1) lib/zeitwerk/loader/helpers.rb:126:in `const_defined?'
zeitwerk (2.7.1) lib/zeitwerk/loader/helpers.rb:126:in `cname_for'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:448:in `block in define_autoloads_for_dir'
zeitwerk (2.7.1) lib/zeitwerk/loader/helpers.rb:47:in `block in ls'
zeitwerk (2.7.1) lib/zeitwerk/loader/helpers.rb:25:in `each'
zeitwerk (2.7.1) lib/zeitwerk/loader/helpers.rb:25:in `ls'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:445:in `define_autoloads_for_dir'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:125:in `block (2 levels) in setup'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:124:in `each'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:124:in `block in setup'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:121:in `synchronize'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:121:in `setup'
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:231:in `reload'
activesupport (8.0.1) lib/active_support/dependencies.rb:78:in `block in clear'
activesupport (8.0.1) lib/active_support/concurrency/share_lock.rb:150:in `exclusive'
activesupport (8.0.1) lib/active_support/dependencies/interlock.rb:17:in `unloading'
activesupport (8.0.1) lib/active_support/dependencies.rb:31:in `unload_interlock'
activesupport (8.0.1) lib/active_support/dependencies.rb:76:in `clear'
railties (8.0.1) lib/rails/application/finisher.rb:188:in `block (2 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
railties (8.0.1) lib/rails/application/finisher.rb:217:in `block (3 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/callbacks.rb:109:in `run_callbacks'
activesupport (8.0.1) lib/active_support/reloader.rb:128:in `class_unload!'
railties (8.0.1) lib/rails/application/finisher.rb:216:in `block (2 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/callbacks.rb:406:in `instance_exec'
activesupport (8.0.1) lib/active_support/callbacks.rb:406:in `block in make_lambda'
activesupport (8.0.1) lib/active_support/callbacks.rb:178:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:667:in `block (2 levels) in default_terminator'
activesupport (8.0.1) lib/active_support/callbacks.rb:666:in `catch'
activesupport (8.0.1) lib/active_support/callbacks.rb:666:in `block in default_terminator'
activesupport (8.0.1) lib/active_support/callbacks.rb:179:in `call'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `block in invoke_before'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `each'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `invoke_before'
activesupport (8.0.1) lib/active_support/callbacks.rb:108:in `run_callbacks'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:128:in `run'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:124:in `run!'
activesupport (8.0.1) lib/active_support/reloader.rb:122:in `run!'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:77:in `block in run!'
<internal:kernel>:90:in `tap'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:74:in `run!'
activesupport (8.0.1) lib/active_support/reloader.rb:64:in `run!'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/orders" for ::1 at 2025-02-02 17:39:41 +0530
  
Zeitwerk::SetupRequired (please, finish your configuration and call Zeitwerk::Loader#setup once all is ready):
  
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:226:in `reload'
activesupport (8.0.1) lib/active_support/dependencies.rb:78:in `block in clear'
activesupport (8.0.1) lib/active_support/concurrency/share_lock.rb:150:in `exclusive'
activesupport (8.0.1) lib/active_support/dependencies/interlock.rb:17:in `unloading'
activesupport (8.0.1) lib/active_support/dependencies.rb:31:in `unload_interlock'
activesupport (8.0.1) lib/active_support/dependencies.rb:76:in `clear'
railties (8.0.1) lib/rails/application/finisher.rb:188:in `block (2 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
railties (8.0.1) lib/rails/application/finisher.rb:217:in `block (3 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/callbacks.rb:109:in `run_callbacks'
activesupport (8.0.1) lib/active_support/reloader.rb:128:in `class_unload!'
railties (8.0.1) lib/rails/application/finisher.rb:216:in `block (2 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/callbacks.rb:406:in `instance_exec'
activesupport (8.0.1) lib/active_support/callbacks.rb:406:in `block in make_lambda'
activesupport (8.0.1) lib/active_support/callbacks.rb:178:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:667:in `block (2 levels) in default_terminator'
activesupport (8.0.1) lib/active_support/callbacks.rb:666:in `catch'
activesupport (8.0.1) lib/active_support/callbacks.rb:666:in `block in default_terminator'
activesupport (8.0.1) lib/active_support/callbacks.rb:179:in `call'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `block in invoke_before'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `each'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `invoke_before'
activesupport (8.0.1) lib/active_support/callbacks.rb:108:in `run_callbacks'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:128:in `run'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:124:in `run!'
activesupport (8.0.1) lib/active_support/reloader.rb:122:in `run!'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:77:in `block in run!'
<internal:kernel>:90:in `tap'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:74:in `run!'
activesupport (8.0.1) lib/active_support/reloader.rb:64:in `run!'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/orders" for ::1 at 2025-02-02 17:39:43 +0530
  
ActionController::RoutingError (uninitialized constant OrdersController)
Caused by: ActionDispatch::MissingController (uninitialized constant OrdersController)
Caused by: NameError (uninitialized constant OrdersController)

Information for: ActionController::RoutingError (uninitialized constant OrdersController):
  

Information for cause: ActionDispatch::MissingController (uninitialized constant OrdersController):
  
actionpack (8.0.1) lib/action_dispatch/http/request.rb:102:in `rescue in controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:98:in `controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:91:in `controller_class'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:61:in `controller'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:48:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.9) lib/rack/etag.rb:29:in `call'
rack (3.1.9) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.9) lib/rack/head.rb:15:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'

Information for cause: NameError (uninitialized constant OrdersController):
  
activesupport (8.0.1) lib/active_support/inflector/methods.rb:290:in `const_get'
activesupport (8.0.1) lib/active_support/inflector/methods.rb:290:in `constantize'
activesupport (8.0.1) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:99:in `controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:91:in `controller_class'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:61:in `controller'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:48:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.9) lib/rack/etag.rb:29:in `call'
rack (3.1.9) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.9) lib/rack/head.rb:15:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/orders" for ::1 at 2025-02-02 17:40:11 +0530
  
Zeitwerk::SetupRequired (please, finish your configuration and call Zeitwerk::Loader#setup once all is ready):
  
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:226:in `reload'
activesupport (8.0.1) lib/active_support/dependencies.rb:78:in `block in clear'
activesupport (8.0.1) lib/active_support/concurrency/share_lock.rb:150:in `exclusive'
activesupport (8.0.1) lib/active_support/dependencies/interlock.rb:17:in `unloading'
activesupport (8.0.1) lib/active_support/dependencies.rb:31:in `unload_interlock'
activesupport (8.0.1) lib/active_support/dependencies.rb:76:in `clear'
railties (8.0.1) lib/rails/application/finisher.rb:188:in `block (2 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
railties (8.0.1) lib/rails/application/finisher.rb:217:in `block (3 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/callbacks.rb:109:in `run_callbacks'
activesupport (8.0.1) lib/active_support/reloader.rb:128:in `class_unload!'
railties (8.0.1) lib/rails/application/finisher.rb:216:in `block (2 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/callbacks.rb:406:in `instance_exec'
activesupport (8.0.1) lib/active_support/callbacks.rb:406:in `block in make_lambda'
activesupport (8.0.1) lib/active_support/callbacks.rb:178:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:667:in `block (2 levels) in default_terminator'
activesupport (8.0.1) lib/active_support/callbacks.rb:666:in `catch'
activesupport (8.0.1) lib/active_support/callbacks.rb:666:in `block in default_terminator'
activesupport (8.0.1) lib/active_support/callbacks.rb:179:in `call'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `block in invoke_before'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `each'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `invoke_before'
activesupport (8.0.1) lib/active_support/callbacks.rb:108:in `run_callbacks'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:128:in `run'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:124:in `run!'
activesupport (8.0.1) lib/active_support/reloader.rb:122:in `run!'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:77:in `block in run!'
<internal:kernel>:90:in `tap'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:74:in `run!'
activesupport (8.0.1) lib/active_support/reloader.rb:64:in `run!'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/orders" for ::1 at 2025-02-02 17:40:12 +0530
  
ActionController::RoutingError (uninitialized constant OrdersController)
Caused by: ActionDispatch::MissingController (uninitialized constant OrdersController)
Caused by: NameError (uninitialized constant OrdersController)

Information for: ActionController::RoutingError (uninitialized constant OrdersController):
  

Information for cause: ActionDispatch::MissingController (uninitialized constant OrdersController):
  
actionpack (8.0.1) lib/action_dispatch/http/request.rb:102:in `rescue in controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:98:in `controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:91:in `controller_class'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:61:in `controller'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:48:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.9) lib/rack/etag.rb:29:in `call'
rack (3.1.9) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.9) lib/rack/head.rb:15:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'

Information for cause: NameError (uninitialized constant OrdersController):
  
activesupport (8.0.1) lib/active_support/inflector/methods.rb:290:in `const_get'
activesupport (8.0.1) lib/active_support/inflector/methods.rb:290:in `constantize'
activesupport (8.0.1) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:99:in `controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:91:in `controller_class'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:61:in `controller'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:48:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.9) lib/rack/etag.rb:29:in `call'
rack (3.1.9) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.9) lib/rack/head.rb:15:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/orders" for ::1 at 2025-02-02 17:41:50 +0530
  
Zeitwerk::SetupRequired (please, finish your configuration and call Zeitwerk::Loader#setup once all is ready):
  
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:226:in `reload'
activesupport (8.0.1) lib/active_support/dependencies.rb:78:in `block in clear'
activesupport (8.0.1) lib/active_support/concurrency/share_lock.rb:150:in `exclusive'
activesupport (8.0.1) lib/active_support/dependencies/interlock.rb:17:in `unloading'
activesupport (8.0.1) lib/active_support/dependencies.rb:31:in `unload_interlock'
activesupport (8.0.1) lib/active_support/dependencies.rb:76:in `clear'
railties (8.0.1) lib/rails/application/finisher.rb:188:in `block (2 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
railties (8.0.1) lib/rails/application/finisher.rb:217:in `block (3 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/callbacks.rb:109:in `run_callbacks'
activesupport (8.0.1) lib/active_support/reloader.rb:128:in `class_unload!'
railties (8.0.1) lib/rails/application/finisher.rb:216:in `block (2 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/callbacks.rb:406:in `instance_exec'
activesupport (8.0.1) lib/active_support/callbacks.rb:406:in `block in make_lambda'
activesupport (8.0.1) lib/active_support/callbacks.rb:178:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:667:in `block (2 levels) in default_terminator'
activesupport (8.0.1) lib/active_support/callbacks.rb:666:in `catch'
activesupport (8.0.1) lib/active_support/callbacks.rb:666:in `block in default_terminator'
activesupport (8.0.1) lib/active_support/callbacks.rb:179:in `call'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `block in invoke_before'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `each'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `invoke_before'
activesupport (8.0.1) lib/active_support/callbacks.rb:108:in `run_callbacks'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:128:in `run'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:124:in `run!'
activesupport (8.0.1) lib/active_support/reloader.rb:122:in `run!'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:77:in `block in run!'
<internal:kernel>:90:in `tap'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:74:in `run!'
activesupport (8.0.1) lib/active_support/reloader.rb:64:in `run!'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/orders" for ::1 at 2025-02-02 17:41:51 +0530
  
ActionController::RoutingError (uninitialized constant OrdersController)
Caused by: ActionDispatch::MissingController (uninitialized constant OrdersController)
Caused by: NameError (uninitialized constant OrdersController)

Information for: ActionController::RoutingError (uninitialized constant OrdersController):
  

Information for cause: ActionDispatch::MissingController (uninitialized constant OrdersController):
  
actionpack (8.0.1) lib/action_dispatch/http/request.rb:102:in `rescue in controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:98:in `controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:91:in `controller_class'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:61:in `controller'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:48:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.9) lib/rack/etag.rb:29:in `call'
rack (3.1.9) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.9) lib/rack/head.rb:15:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'

Information for cause: NameError (uninitialized constant OrdersController):
  
activesupport (8.0.1) lib/active_support/inflector/methods.rb:290:in `const_get'
activesupport (8.0.1) lib/active_support/inflector/methods.rb:290:in `constantize'
activesupport (8.0.1) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:99:in `controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:91:in `controller_class'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:61:in `controller'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:48:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.9) lib/rack/etag.rb:29:in `call'
rack (3.1.9) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.9) lib/rack/head.rb:15:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/orders" for ::1 at 2025-02-02 17:42:35 +0530
  
Zeitwerk::SetupRequired (please, finish your configuration and call Zeitwerk::Loader#setup once all is ready):
  
zeitwerk (2.7.1) lib/zeitwerk/loader.rb:226:in `reload'
activesupport (8.0.1) lib/active_support/dependencies.rb:78:in `block in clear'
activesupport (8.0.1) lib/active_support/concurrency/share_lock.rb:150:in `exclusive'
activesupport (8.0.1) lib/active_support/dependencies/interlock.rb:17:in `unloading'
activesupport (8.0.1) lib/active_support/dependencies.rb:31:in `unload_interlock'
activesupport (8.0.1) lib/active_support/dependencies.rb:76:in `clear'
railties (8.0.1) lib/rails/application/finisher.rb:188:in `block (2 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
railties (8.0.1) lib/rails/application/finisher.rb:217:in `block (3 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/callbacks.rb:109:in `run_callbacks'
activesupport (8.0.1) lib/active_support/reloader.rb:128:in `class_unload!'
railties (8.0.1) lib/rails/application/finisher.rb:216:in `block (2 levels) in <module:Finisher>'
activesupport (8.0.1) lib/active_support/callbacks.rb:406:in `instance_exec'
activesupport (8.0.1) lib/active_support/callbacks.rb:406:in `block in make_lambda'
activesupport (8.0.1) lib/active_support/callbacks.rb:178:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:667:in `block (2 levels) in default_terminator'
activesupport (8.0.1) lib/active_support/callbacks.rb:666:in `catch'
activesupport (8.0.1) lib/active_support/callbacks.rb:666:in `block in default_terminator'
activesupport (8.0.1) lib/active_support/callbacks.rb:179:in `call'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `block in invoke_before'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `each'
activesupport (8.0.1) lib/active_support/callbacks.rb:558:in `invoke_before'
activesupport (8.0.1) lib/active_support/callbacks.rb:108:in `run_callbacks'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:128:in `run'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:124:in `run!'
activesupport (8.0.1) lib/active_support/reloader.rb:122:in `run!'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:77:in `block in run!'
<internal:kernel>:90:in `tap'
activesupport (8.0.1) lib/active_support/execution_wrapper.rb:74:in `run!'
activesupport (8.0.1) lib/active_support/reloader.rb:64:in `run!'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/orders" for ::1 at 2025-02-02 17:42:38 +0530
  
ActionController::RoutingError (uninitialized constant OrdersController)
Caused by: ActionDispatch::MissingController (uninitialized constant OrdersController)
Caused by: NameError (uninitialized constant OrdersController)

Information for: ActionController::RoutingError (uninitialized constant OrdersController):
  

Information for cause: ActionDispatch::MissingController (uninitialized constant OrdersController):
  
actionpack (8.0.1) lib/action_dispatch/http/request.rb:102:in `rescue in controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:98:in `controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:91:in `controller_class'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:61:in `controller'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:48:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.9) lib/rack/etag.rb:29:in `call'
rack (3.1.9) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.9) lib/rack/head.rb:15:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'

Information for cause: NameError (uninitialized constant OrdersController):
  
activesupport (8.0.1) lib/active_support/inflector/methods.rb:290:in `const_get'
activesupport (8.0.1) lib/active_support/inflector/methods.rb:290:in `constantize'
activesupport (8.0.1) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:99:in `controller_class_for'
actionpack (8.0.1) lib/action_dispatch/http/request.rb:91:in `controller_class'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:61:in `controller'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:48:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.9) lib/rack/etag.rb:29:in `call'
rack (3.1.9) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.9) lib/rack/head.rb:15:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.9) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.9) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/orders" for ::1 at 2025-02-02 17:44:21 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
Completed 204 No Content in 54984ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 11.5ms)


Started POST "/orders" for ::1 at 2025-02-02 17:45:19 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.8ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
Completed 500 Internal Server Error in 62ms (ActiveRecord: 18.7ms (2 queries, 0 cached) | GC: 10.2ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'size' for OrderItem.)
Caused by: NoMethodError (undefined method `size=' for an instance of OrderItem)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'size' for OrderItem.):
  
app/controllers/orders_controller.rb:15:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'

Information for cause: NoMethodError (undefined method `size=' for an instance of OrderItem):
  
app/controllers/orders_controller.rb:15:in `block in create'
app/controllers/orders_controller.rb:7:in `each'
app/controllers/orders_controller.rb:7:in `create'
Started POST "/orders" for ::1 at 2025-02-02 17:45:44 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (1.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mCrust Load (1.0ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:11:in `block in create'
Completed 500 Internal Server Error in 71569ms (ActiveRecord: 20.5ms (2 queries, 0 cached) | GC: 110.1ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'size' for OrderItem.)
Caused by: NoMethodError (undefined method `size=' for an instance of OrderItem)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'size' for OrderItem.):
  
app/controllers/orders_controller.rb:17:in `block in create'
app/controllers/orders_controller.rb:9:in `each'
app/controllers/orders_controller.rb:9:in `create'

Information for cause: NoMethodError (undefined method `size=' for an instance of OrderItem):
  
app/controllers/orders_controller.rb:17:in `block in create'
app/controllers/orders_controller.rb:9:in `each'
app/controllers/orders_controller.rb:9:in `create'
Started POST "/orders" for ::1 at 2025-02-02 17:46:59 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (3.2ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mCrust Load (4.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:11:in `block in create'
Completed 500 Internal Server Error in 539107ms (ActiveRecord: 31.0ms (2 queries, 0 cached) | GC: 115.7ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'size' for OrderItem.)
Caused by: NoMethodError (undefined method `size=' for an instance of OrderItem)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'size' for OrderItem.):
  
app/controllers/orders_controller.rb:17:in `block in create'
app/controllers/orders_controller.rb:8:in `each'
app/controllers/orders_controller.rb:8:in `create'

Information for cause: NoMethodError (undefined method `size=' for an instance of OrderItem):
  
app/controllers/orders_controller.rb:17:in `block in create'
app/controllers/orders_controller.rb:8:in `each'
app/controllers/orders_controller.rb:8:in `create'
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to AddSizeToOrderItems (20250202122640)
  [1m[35m (18.0ms)[0m  [1m[35mALTER TABLE `order_items` ADD `size` varchar(255) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202122640') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-02 17:57:45 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (1.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mCrust Load (0.9ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:11:in `block in create'
  [1m[36mTopping Load (3.7ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:21:in `block in create'
Completed 500 Internal Server Error in 58820ms (ActiveRecord: 44.9ms (3 queries, 0 cached) | GC: 157.6ms)


  
NoMethodError (private method `confirm_order!' called for an instance of Order):
  
app/controllers/orders_controller.rb:26:in `create'
Started POST "/orders" for ::1 at 2025-02-02 17:58:57 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (1.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /* loading for inspect */ LIMIT 11 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:22:in `block in create'
  [1m[36mCACHE Topping Load (0.1ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /* loading for inspect */ LIMIT 11[0m
  ↳ app/controllers/orders_controller.rb:22:in `block in create'
  [1m[36mTopping Load (0.7ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
Completed 500 Internal Server Error in 204918ms (ActiveRecord: 23.6ms (5 queries, 1 cached) | GC: 37.1ms)


  
NoMethodError (private method `confirm_order!' called for an instance of Order):
  
app/controllers/orders_controller.rb:27:in `create'
Started POST "/orders" for ::1 at 2025-02-02 18:02:27 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.2ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:21:in `block in create'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 16.5ms (3 queries, 0 cached) | GC: 2.9ms)


  
ActiveRecord::AssociationTypeMismatch (OrderItemTopping(#37220) expected, got #<Topping id: 1, name: "Black olive", price: 20, is_vegetarian: true, created_at: "2025-02-01 14:08:08.907420000 +0000", updated_at: "2025-02-01 14:08:08.907420000 +0000"> which is an instance of Topping(#37200)):
  
app/controllers/orders_controller.rb:21:in `block in create'
app/controllers/orders_controller.rb:8:in `each'
app/controllers/orders_controller.rb:8:in `create'
Started POST "/orders" for ::1 at 2025-02-02 18:03:20 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (1.2ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /* loading for inspect */ LIMIT 11 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:22:in `block in create'
  [1m[36mTopping Load (4.7ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
Completed 500 Internal Server Error in 193774ms (ActiveRecord: 29.6ms (4 queries, 0 cached) | GC: 80.2ms)


  
ActiveRecord::AssociationTypeMismatch (OrderItemTopping(#44860) expected, got #<Topping id: 1, name: "Black olive", price: 20, is_vegetarian: true, created_at: "2025-02-01 14:08:08.907420000 +0000", updated_at: "2025-02-01 14:08:08.907420000 +0000"> which is an instance of Topping(#44840)):
  
app/controllers/orders_controller.rb:22:in `block in create'
app/controllers/orders_controller.rb:8:in `each'
app/controllers/orders_controller.rb:8:in `create'
Started POST "/orders" for ::1 at 2025-02-02 18:06:45 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
Completed 500 Internal Server Error in 182392ms (ActiveRecord: 18.0ms (3 queries, 0 cached) | GC: 14.8ms)


  
NoMethodError (private method `confirm_order!' called for an instance of Order):
  
app/controllers/orders_controller.rb:27:in `create'
Started POST "/orders" for ::1 at 2025-02-02 18:11:05 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTopping Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:60:in `confirm_order!'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:60:in `confirm_order!'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ app/models/order.rb:60:in `confirm_order!'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ app/models/order.rb:60:in `confirm_order!'
Completed 422 Unprocessable Content in 299270ms (Views: 0.7ms | ActiveRecord: 23.1ms (7 queries, 2 cached) | GC: 5.0ms)


Started POST "/orders" for ::1 at 2025-02-02 18:16:09 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
Completed 422 Unprocessable Content in 3868ms (Views: 0.1ms | ActiveRecord: 29.5ms (5 queries, 0 cached) | GC: 5.3ms)


Started POST "/orders" for ::1 at 2025-02-02 18:20:37 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (4.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (7.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
Completed 422 Unprocessable Content in 410148ms (Views: 0.2ms | ActiveRecord: 18.4ms (7 queries, 0 cached) | GC: 1.7ms)


Started POST "/orders" for ::1 at 2025-02-02 18:27:32 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
Completed 422 Unprocessable Content in 9146ms (Views: 0.1ms | ActiveRecord: 30.0ms (5 queries, 0 cached) | GC: 3.0ms)


Started POST "/orders" for ::1 at 2025-02-02 18:28:23 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (2.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
Completed 422 Unprocessable Content in 101ms (ActiveRecord: 26.5ms (5 queries, 0 cached) | GC: 1.4ms)


  
ActiveRecord::RecordInvalid (Validation failed: Order items is invalid, Status is not included in the list):
  
app/controllers/orders_controller.rb:26:in `create'
Started POST "/orders" for ::1 at 2025-02-02 18:28:34 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (3.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
Completed 422 Unprocessable Content in 39941ms (ActiveRecord: 10.6ms (7 queries, 0 cached) | GC: 8.3ms)


  
ActiveRecord::RecordInvalid (Validation failed: Order items is invalid, Status is not included in the list):
  
app/controllers/orders_controller.rb:26:in `create'
Started POST "/orders" for ::1 at 2025-02-02 18:29:20 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.5ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
Completed 422 Unprocessable Content in 49575ms (ActiveRecord: 31.4ms (7 queries, 0 cached) | GC: 3.5ms)


  
ActiveRecord::RecordInvalid (Validation failed: Order items is invalid):
  
app/controllers/orders_controller.rb:26:in `create'
Started POST "/orders" for ::1 at 2025-02-02 18:30:28 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.5ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
Completed 422 Unprocessable Content in 10269ms (ActiveRecord: 27.9ms (5 queries, 0 cached) | GC: 66.0ms)


  
ActiveRecord::RecordInvalid (Validation failed: Order items is invalid):
  
app/controllers/orders_controller.rb:26:in `create'
Started POST "/orders" for ::1 at 2025-02-02 18:31:15 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTopping Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
Completed 422 Unprocessable Content in 294123ms (ActiveRecord: 6.0ms (9 queries, 4 cached) | GC: 5.2ms)


  
ActiveRecord::RecordInvalid (Validation failed: Order items is invalid):
  
app/controllers/orders_controller.rb:26:in `create'
Started POST "/orders" for ::1 at 2025-02-02 18:36:27 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
Completed 422 Unprocessable Content in 23176ms (ActiveRecord: 14.5ms (2 queries, 0 cached) | GC: 3.6ms)


  
ActiveRecord::RecordNotSaved (You cannot call create unless the parent is saved):
  
app/controllers/orders_controller.rb:18:in `block in create'
app/controllers/orders_controller.rb:8:in `each'
app/controllers/orders_controller.rb:8:in `create'
Started POST "/orders" for ::1 at 2025-02-02 18:36:54 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:13:in `validate_business_rules'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:6:in `create'
Completed 500 Internal Server Error in 9554ms (ActiveRecord: 10.6ms (0 queries, 0 cached) | GC: 3.6ms)


  
NameError (undefined local variable or method `order_sides' for an instance of Order):
  
app/models/order.rb:44:in `check_inventory'
app/controllers/orders_controller.rb:6:in `create'
Started POST "/orders" for ::1 at 2025-02-02 18:37:08 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
Completed 500 Internal Server Error in 6344ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.3ms)


  
NameError (undefined local variable or method `order_sides' for an instance of Order):
  
app/models/order.rb:44:in `check_inventory'
app/controllers/orders_controller.rb:6:in `create'
Started POST "/orders" for ::1 at 2025-02-02 18:38:33 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
Completed 422 Unprocessable Content in 70ms (ActiveRecord: 27.2ms (5 queries, 0 cached) | GC: 2.8ms)


  
ActiveRecord::RecordInvalid (Validation failed: Order items is invalid):
  
app/controllers/orders_controller.rb:26:in `create'
Started POST "/orders" for ::1 at 2025-02-02 18:39:42 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /* loading for inspect */ LIMIT 11 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:17:in `block in create'
  [1m[36mTopping Load (1.5ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTopping Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTopping Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTopping Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mCACHE Topping Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mOrderItem Create (2.8ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`) VALUES (NULL, 1, NULL, NULL, 1, '2025-02-02 13:18:04.374016', '2025-02-02 13:18:04.374016', 5, 'Medium') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTopping Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTopping Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTopping Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTopping Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ (byebug):1:in `block in create'
  [1m[36mTopping Load (1.7ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:21:in `block in create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:27:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:27:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:27:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:27:in `create'
Completed 422 Unprocessable Content in 1750008ms (ActiveRecord: 57.2ms (30 queries, 12 cached) | GC: 110.3ms)


  
ActiveRecord::RecordInvalid (Validation failed: Order items is invalid):
  
app/controllers/orders_controller.rb:27:in `create'
Started POST "/orders" for ::1 at 2025-02-02 19:09:15 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTopping Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
Completed 500 Internal Server Error in 275986ms (ActiveRecord: 32.0ms (11 queries, 6 cached) | GC: 3.3ms)


  
NoMethodError (undefined method `category' for an instance of Pizza):
  
app/models/order.rb:15:in `block in validate_business_rules'
app/models/order.rb:13:in `validate_business_rules'
app/controllers/orders_controller.rb:26:in `create'
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to AddCategoryToPizzas (20250202134356)
  [1m[35m (16.1ms)[0m  [1m[35mALTER TABLE `pizzas` ADD `category` varchar(255) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202134356') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35m (42.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_development` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_test` /*application='MyPizzaFactory'*/[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_development` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_test` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE IF EXISTS `crusts` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE `crusts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS `inventories` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE `inventories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `item_type` varchar(255), `item_id` int, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `order_item_toppings` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE TABLE `order_item_toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_item_id` bigint NOT NULL, `topping_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_item_toppings_on_order_item_id` (`order_item_id`), INDEX `index_order_item_toppings_on_topping_id` (`topping_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `order_items` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE `order_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `pizza_id` bigint NOT NULL, `topping_id` bigint NOT NULL, `side_id` bigint, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `crust_id` int, `size` varchar(255), INDEX `index_order_items_on_order_id` (`order_id`), INDEX `index_order_items_on_pizza_id` (`pizza_id`), INDEX `index_order_items_on_side_id` (`side_id`), INDEX `index_order_items_on_topping_id` (`topping_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `orders` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `customer_name` varchar(255), `status` varchar(255), `total_amount` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `pizzas` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE `pizzas` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price_regular` decimal(10), `price_medium` decimal(10), `price_large` decimal(10), `crust_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `size` varchar(255), `category` varchar(255), INDEX `index_pizzas_on_crust_id` (`crust_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `pizzas_toppings` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE `pizzas_toppings` (`pizza_id` bigint NOT NULL, `topping_id` bigint NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `sides` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE `sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `toppings` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE `toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal(10), `is_vegetarian` tinyint(1), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (11.7ms)[0m  [1m[35mALTER TABLE `order_item_toppings` ADD CONSTRAINT `fk_rails_dc7b80a860`
FOREIGN KEY (`order_item_id`)
  REFERENCES `order_items` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (10.2ms)[0m  [1m[35mALTER TABLE `order_item_toppings` ADD CONSTRAINT `fk_rails_8bc35592b7`
FOREIGN KEY (`topping_id`)
  REFERENCES `toppings` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (15.4ms)[0m  [1m[35mALTER TABLE `order_items` ADD CONSTRAINT `fk_rails_e3cb28f071`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (13.3ms)[0m  [1m[35mALTER TABLE `order_items` ADD CONSTRAINT `fk_rails_d28b17c368`
FOREIGN KEY (`pizza_id`)
  REFERENCES `pizzas` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (13.6ms)[0m  [1m[35mALTER TABLE `order_items` ADD CONSTRAINT `fk_rails_1b467f8eca`
FOREIGN KEY (`side_id`)
  REFERENCES `sides` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (14.6ms)[0m  [1m[35mALTER TABLE `order_items` ADD CONSTRAINT `fk_rails_f0fe11be9c`
FOREIGN KEY (`topping_id`)
  REFERENCES `toppings` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (10.6ms)[0m  [1m[35mALTER TABLE `pizzas` ADD CONSTRAINT `fk_rails_cd6ddc59bc`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20250202134356) /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20250202122640),
(20250202115634),
(20250202035725),
(20250202023936),
(20250201171514),
(20250201135626),
(20250201135608),
(20250201135559),
(20250201135547),
(20250201135537),
(20250201135526),
(20250201135428),
(20250201135417); /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2025-02-02 16:14:53.678114', '2025-02-02 16:14:53.678115') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '89e08a7bbd62437fd2dcae4e9f477520148f7bae', '2025-02-02 16:14:53.680254', '2025-02-02 16:14:53.680255') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.3ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.2ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (0.2ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.2ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.2ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.3ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (0.3ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.3ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('New hand tossed', 0, '2025-02-02 16:15:21.606775', '2025-02-02 16:15:21.606775') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Wheat thin crust' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.6ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Wheat thin crust', 0, '2025-02-02 16:15:21.610981', '2025-02-02 16:15:21.610981') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Cheese Burst' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cheese Burst', 0, '2025-02-02 16:15:21.615082', '2025-02-02 16:15:21.615082') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Fresh pan pizza' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Fresh pan pizza', 0, '2025-02-02 16:15:21.618011', '2025-02-02 16:15:21.618011') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='MyPizzaFactory'*/[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_development` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_test` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS `crusts` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35m (35.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_development` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_test` /*application='MyPizzaFactory'*/[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_development` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_test` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) /*application='MyPizzaFactory'*/[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.6ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2025-02-02 16:18:42.586053', '2025-02-02 16:18:42.586055') /*application='MyPizzaFactory'*/[0m
Migrating to CreateCrusts (20250201135417)
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE `crusts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135417') /*application='MyPizzaFactory'*/[0m
Migrating to CreateToppings (20250201135428)
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE `toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `is_vegetarian` tinyint(1), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135428') /*application='MyPizzaFactory'*/[0m
Migrating to CreatePizzas (20250201135526)
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE `pizzas` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price_regular` decimal, `price_medium` decimal, `price_large` decimal, `crust_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_pizzas_on_crust_id` (`crust_id`), CONSTRAINT `fk_rails_cd6ddc59bc`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135526') /*application='MyPizzaFactory'*/[0m
Migrating to CreateSides (20250201135537)
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE `sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135537') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrders (20250201135547)
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `customer_name` varchar(255), `status` varchar(255), `total_amount` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135547') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderItems (20250201135559)
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE `order_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `pizza_id` bigint NOT NULL, `topping_id` bigint NOT NULL, `side_id` bigint NOT NULL, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_items_on_order_id` (`order_id`), INDEX `index_order_items_on_pizza_id` (`pizza_id`), INDEX `index_order_items_on_topping_id` (`topping_id`), INDEX `index_order_items_on_side_id` (`side_id`), CONSTRAINT `fk_rails_e3cb28f071`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
, CONSTRAINT `fk_rails_d28b17c368`
FOREIGN KEY (`pizza_id`)
  REFERENCES `pizzas` (`id`)
, CONSTRAINT `fk_rails_f0fe11be9c`
FOREIGN KEY (`topping_id`)
  REFERENCES `toppings` (`id`)
, CONSTRAINT `fk_rails_1b467f8eca`
FOREIGN KEY (`side_id`)
  REFERENCES `sides` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135559') /*application='MyPizzaFactory'*/[0m
Migrating to CreateInventories (20250201135608)
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE `inventories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `item_type` varchar(255), `item_id` int, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135608') /*application='MyPizzaFactory'*/[0m
Migrating to CreateJoinTablePizzaToppings (20250201135626)
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE `pizzas_toppings` (`pizza_id` bigint NOT NULL, `topping_id` bigint NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135626') /*application='MyPizzaFactory'*/[0m
Migrating to AddSizeToPizzas (20250201171514)
  [1m[35m (5.1ms)[0m  [1m[35mALTER TABLE `pizzas` ADD `size` varchar(255) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201171514') /*application='MyPizzaFactory'*/[0m
Migrating to AddCrustToOrderItems (20250202023936)
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE `order_items` ADD `crust_id` int /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202023936') /*application='MyPizzaFactory'*/[0m
Migrating to ChangeSideIdToNullableInOrderItems (20250202035725)
  [1m[35m (7.9ms)[0m  [1m[35mALTER TABLE `order_items` CHANGE `side_id` `side_id` bigint DEFAULT NULL /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202035725') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderItemToppings (20250202115634)
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE `order_item_toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_item_id` bigint NOT NULL, `topping_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_item_toppings_on_order_item_id` (`order_item_id`), INDEX `index_order_item_toppings_on_topping_id` (`topping_id`), CONSTRAINT `fk_rails_dc7b80a860`
FOREIGN KEY (`order_item_id`)
  REFERENCES `order_items` (`id`)
, CONSTRAINT `fk_rails_8bc35592b7`
FOREIGN KEY (`topping_id`)
  REFERENCES `toppings` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202115634') /*application='MyPizzaFactory'*/[0m
Migrating to AddSizeToOrderItems (20250202122640)
  [1m[35m (8.2ms)[0m  [1m[35mALTER TABLE `order_items` ADD `size` varchar(255) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202122640') /*application='MyPizzaFactory'*/[0m
Migrating to AddCategoryToPizzas (20250202134356)
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE `pizzas` ADD `category` varchar(255) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202134356') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.3ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.2ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (0.2ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.2ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.2ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.2ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (0.2ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('New hand tossed', 0, '2025-02-02 16:18:45.460197', '2025-02-02 16:18:45.460197') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Wheat thin crust' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Wheat thin crust', 0, '2025-02-02 16:18:45.464054', '2025-02-02 16:18:45.464054') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Cheese Burst' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cheese Burst', 0, '2025-02-02 16:18:45.467030', '2025-02-02 16:18:45.467030') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Fresh pan pizza' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Fresh pan pizza', 0, '2025-02-02 16:18:45.470057', '2025-02-02 16:18:45.470057') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.3ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.3ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (0.3ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.3ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.2ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.2ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (1.5ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.4ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('New hand tossed', 0, '2025-02-02 16:19:15.063022', '2025-02-02 16:19:15.063022') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Wheat thin crust' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Wheat thin crust', 0, '2025-02-02 16:19:15.067005', '2025-02-02 16:19:15.067005') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Cheese Burst' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.3ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cheese Burst', 0, '2025-02-02 16:19:15.070265', '2025-02-02 16:19:15.070265') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Fresh pan pizza' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Fresh pan pizza', 0, '2025-02-02 16:19:15.073464', '2025-02-02 16:19:15.073464') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  ↳ (byebug):1:in `block in <main>'
  [1m[36mPizza Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  ↳ (byebug):1:in `block in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK /*application='MyPizzaFactory'*/[0m
  ↳ (byebug):1:in `block in <main>'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  ↳ (byebug):1:in `block in <main>'
  [1m[36mPizza Exists? (4.9ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  ↳ (byebug):1:in `block in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK /*application='MyPizzaFactory'*/[0m
  ↳ (byebug):1:in `block in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.3ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (0.4ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.2ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.2ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.3ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (1.9ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.3ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('New hand tossed', 0, '2025-02-02 16:23:59.453844', '2025-02-02 16:23:59.453844') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Wheat thin crust' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Wheat thin crust', 0, '2025-02-02 16:23:59.458212', '2025-02-02 16:23:59.458212') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Cheese Burst' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (1.6ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cheese Burst', 0, '2025-02-02 16:23:59.462604', '2025-02-02 16:23:59.462604') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Fresh pan pizza' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Fresh pan pizza', 0, '2025-02-02 16:23:59.467566', '2025-02-02 16:23:59.467566') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (10.8ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.8ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.8ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (1.1ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.6ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.6ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.3ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (1.3ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.3ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('New hand tossed', 0, '2025-02-02 16:24:52.358116', '2025-02-02 16:24:52.358116') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Wheat thin crust' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Wheat thin crust', 0, '2025-02-02 16:24:52.362066', '2025-02-02 16:24:52.362066') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Cheese Burst' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cheese Burst', 0, '2025-02-02 16:24:52.365273', '2025-02-02 16:24:52.365273') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Fresh pan pizza' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.3ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Fresh pan pizza', 0, '2025-02-02 16:24:52.368548', '2025-02-02 16:24:52.368548') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  ↳ (byebug):1:in `block in <main>'
  [1m[36mPizza Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  ↳ (byebug):1:in `block in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*application='MyPizzaFactory'*/[0m
  ↳ (byebug):1:in `block in <main>'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (6.4ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35m (33.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_development` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_test` /*application='MyPizzaFactory'*/[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_development` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_test` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `crusts` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE `crusts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE IF EXISTS `inventories` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE `inventories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `item_type` varchar(255), `item_id` int, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS `order_item_toppings` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE `order_item_toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_item_id` bigint NOT NULL, `topping_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_item_toppings_on_order_item_id` (`order_item_id`), INDEX `index_order_item_toppings_on_topping_id` (`topping_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `order_items` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE `order_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `pizza_id` bigint NOT NULL, `topping_id` bigint NOT NULL, `side_id` bigint, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `crust_id` int, `size` varchar(255), INDEX `index_order_items_on_order_id` (`order_id`), INDEX `index_order_items_on_pizza_id` (`pizza_id`), INDEX `index_order_items_on_side_id` (`side_id`), INDEX `index_order_items_on_topping_id` (`topping_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `orders` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `customer_name` varchar(255), `status` varchar(255), `total_amount` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `pizzas` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE `pizzas` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price_regular` decimal(10), `price_medium` decimal(10), `price_large` decimal(10), `crust_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `size` varchar(255), `category` varchar(255), INDEX `index_pizzas_on_crust_id` (`crust_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `pizzas_toppings` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE `pizzas_toppings` (`pizza_id` bigint NOT NULL, `topping_id` bigint NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `sides` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE `sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `toppings` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE `toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal(10), `is_vegetarian` tinyint(1), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (11.2ms)[0m  [1m[35mALTER TABLE `order_item_toppings` ADD CONSTRAINT `fk_rails_dc7b80a860`
FOREIGN KEY (`order_item_id`)
  REFERENCES `order_items` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (9.3ms)[0m  [1m[35mALTER TABLE `order_item_toppings` ADD CONSTRAINT `fk_rails_8bc35592b7`
FOREIGN KEY (`topping_id`)
  REFERENCES `toppings` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (11.9ms)[0m  [1m[35mALTER TABLE `order_items` ADD CONSTRAINT `fk_rails_e3cb28f071`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (13.6ms)[0m  [1m[35mALTER TABLE `order_items` ADD CONSTRAINT `fk_rails_d28b17c368`
FOREIGN KEY (`pizza_id`)
  REFERENCES `pizzas` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (13.7ms)[0m  [1m[35mALTER TABLE `order_items` ADD CONSTRAINT `fk_rails_1b467f8eca`
FOREIGN KEY (`side_id`)
  REFERENCES `sides` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (13.8ms)[0m  [1m[35mALTER TABLE `order_items` ADD CONSTRAINT `fk_rails_f0fe11be9c`
FOREIGN KEY (`topping_id`)
  REFERENCES `toppings` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (10.1ms)[0m  [1m[35mALTER TABLE `pizzas` ADD CONSTRAINT `fk_rails_cd6ddc59bc`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20250202134356) /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20250202122640),
(20250202115634),
(20250202035725),
(20250202023936),
(20250201171514),
(20250201135626),
(20250201135608),
(20250201135559),
(20250201135547),
(20250201135537),
(20250201135526),
(20250201135428),
(20250201135417); /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2025-02-02 16:29:14.523549', '2025-02-02 16:29:14.523551') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '89e08a7bbd62437fd2dcae4e9f477520148f7bae', '2025-02-02 16:29:14.525804', '2025-02-02 16:29:14.525805') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.3ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (0.2ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.2ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.2ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.2ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (0.3ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.3ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('New hand tossed', 0, '2025-02-02 16:29:19.831628', '2025-02-02 16:29:19.831628') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Wheat thin crust' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Wheat thin crust', 0, '2025-02-02 16:29:19.835638', '2025-02-02 16:29:19.835638') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Cheese Burst' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cheese Burst', 0, '2025-02-02 16:29:19.838657', '2025-02-02 16:29:19.838657') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Fresh pan pizza' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Fresh pan pizza', 0, '2025-02-02 16:29:19.841463', '2025-02-02 16:29:19.841463') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (0.9ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.3ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `size`, `category`) VALUES ('Deluxe Veggie', 150, 200, 325, 1, '2025-02-02 16:29:19.854682', '2025-02-02 16:29:19.854682', NULL, 'vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (0.9ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Cheese and corn' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.4ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `size`, `category`) VALUES ('Cheese and corn', 175, 375, 475, 1, '2025-02-02 16:29:19.859659', '2025-02-02 16:29:19.859659', NULL, 'vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (0.9ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Paneer Tikka' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.3ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `size`, `category`) VALUES ('Paneer Tikka', 160, 290, 340, 1, '2025-02-02 16:29:19.863989', '2025-02-02 16:29:19.863989', NULL, 'vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (0.8ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Non-Veg Supreme' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.7ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `size`, `category`) VALUES ('Non-Veg Supreme', 190, 325, 425, 1, '2025-02-02 16:29:19.874172', '2025-02-02 16:29:19.874172', NULL, 'non-vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (1.0ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Chicken Tikka' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.4ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `size`, `category`) VALUES ('Chicken Tikka', 210, 370, 500, 1, '2025-02-02 16:29:19.879633', '2025-02-02 16:29:19.879633', NULL, 'non-vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (1.7ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Pepper Barbecue Chicken' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.3ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `size`, `category`) VALUES ('Pepper Barbecue Chicken', 220, 380, 525, 1, '2025-02-02 16:29:19.885396', '2025-02-02 16:29:19.885396', NULL, 'non-vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.4ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Black olive', 20, TRUE, '2025-02-02 16:29:19.892564', '2025-02-02 16:29:19.892564') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Capsicum', 25, TRUE, '2025-02-02 16:29:19.896146', '2025-02-02 16:29:19.896146') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Paneer', 35, TRUE, '2025-02-02 16:29:19.899152', '2025-02-02 16:29:19.899152') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Mushroom' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Mushroom', 30, TRUE, '2025-02-02 16:29:19.902084', '2025-02-02 16:29:19.902084') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (4.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Fresh tomato' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Fresh tomato', 10, TRUE, '2025-02-02 16:29:19.908774', '2025-02-02 16:29:19.908774') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Chicken tikka' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Chicken tikka', 35, FALSE, '2025-02-02 16:29:19.911726', '2025-02-02 16:29:19.911726') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Barbeque chicken' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Barbeque chicken', 45, FALSE, '2025-02-02 16:29:19.915046', '2025-02-02 16:29:19.915046') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Grilled chicken' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Grilled chicken', 40, FALSE, '2025-02-02 16:29:19.917929', '2025-02-02 16:29:19.917929') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Extra cheese' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Extra cheese', 35, TRUE, '2025-02-02 16:29:19.921277', '2025-02-02 16:29:19.921277') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `sides` WHERE `sides`.`name` = 'Cold drink' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Create (0.2ms)[0m  [1m[32mINSERT INTO `sides` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cold drink', 55, '2025-02-02 16:29:19.928766', '2025-02-02 16:29:19.928766') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `sides` WHERE `sides`.`name` = 'Mousse cake' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Create (0.2ms)[0m  [1m[32mINSERT INTO `sides` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Mousse cake', 90, '2025-02-02 16:29:19.931464', '2025-02-02 16:29:19.931464') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 1, 100, '2025-02-02 16:29:19.936378', '2025-02-02 16:29:19.936378') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 2, 100, '2025-02-02 16:29:19.938673', '2025-02-02 16:29:19.938673') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 3, 100, '2025-02-02 16:29:19.942988', '2025-02-02 16:29:19.942988') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 4, 100, '2025-02-02 16:29:19.945084', '2025-02-02 16:29:19.945084') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.2ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 5, 100, '2025-02-02 16:29:19.947226', '2025-02-02 16:29:19.947226') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 6, 100, '2025-02-02 16:29:19.949884', '2025-02-02 16:29:19.949884') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 1, 100, '2025-02-02 16:29:19.951932', '2025-02-02 16:29:19.951932') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.0ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 2, 100, '2025-02-02 16:29:19.954054', '2025-02-02 16:29:19.954054') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 3, 100, '2025-02-02 16:29:19.956452', '2025-02-02 16:29:19.956452') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 4, 100, '2025-02-02 16:29:19.958579', '2025-02-02 16:29:19.958579') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 5, 100, '2025-02-02 16:29:19.960810', '2025-02-02 16:29:19.960810') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 6, 100, '2025-02-02 16:29:19.963072', '2025-02-02 16:29:19.963072') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.0ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 7, 100, '2025-02-02 16:29:19.965127', '2025-02-02 16:29:19.965127') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 8, 100, '2025-02-02 16:29:19.967520', '2025-02-02 16:29:19.967520') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (2.2ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Side', 1, 100, '2025-02-02 16:29:19.969646', '2025-02-02 16:29:19.969646') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Side', 2, 100, '2025-02-02 16:29:19.973291', '2025-02-02 16:29:19.973291') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 1, 100, '2025-02-02 16:29:19.975436', '2025-02-02 16:29:19.975436') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 2, 100, '2025-02-02 16:29:19.978683', '2025-02-02 16:29:19.978683') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.5ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 3, 100, '2025-02-02 16:29:19.981881', '2025-02-02 16:29:19.981881') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 4, 100, '2025-02-02 16:29:19.985230', '2025-02-02 16:29:19.985230') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-02 22:13:14 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
Completed 422 Unprocessable Content in 50ms (Views: 0.2ms | ActiveRecord: 11.8ms (2 queries, 0 cached) | GC: 8.8ms)


Started POST "/orders" for ::1 at 2025-02-02 22:14:11 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (1.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.9ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
Completed 422 Unprocessable Content in 27442ms (Views: 1.0ms | ActiveRecord: 18.1ms (2 queries, 0 cached) | GC: 106.3ms)


Started POST "/orders" for ::1 at 2025-02-02 22:15:12 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (2.8ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (1.9ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (1.5ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
Completed 500 Internal Server Error in 314180ms (ActiveRecord: 28.9ms (17 queries, 12 cached) | GC: 212.4ms)


  
NoMethodError (undefined method `category' for an instance of Topping):
  
app/models/order.rb:15:in `block (2 levels) in validate_business_rules'
app/models/order.rb:15:in `block in validate_business_rules'
app/models/order.rb:13:in `validate_business_rules'
app/controllers/orders_controller.rb:26:in `create'
Started POST "/orders" for ::1 at 2025-02-02 22:21:48 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.9ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.7ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (1.5ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
Completed 500 Internal Server Error in 502832ms (ActiveRecord: 39.1ms (7 queries, 0 cached) | GC: 154.5ms)


  
NameError (undefined local variable or method `order_sides' for an instance of Order):
  
app/models/order.rb:43:in `check_inventory'
app/controllers/orders_controller.rb:26:in `create'
Started POST "/orders" for ::1 at 2025-02-02 22:30:50 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (1.9ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.8ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 0, '2025-02-02 17:01:06.362791', '2025-02-02 17:01:06.362791') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mOrderItem Create (0.6ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`) VALUES (1, 1, NULL, NULL, 1, '2025-02-02 17:01:06.368600', '2025-02-02 17:01:06.368600', 1, 'Medium') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
Completed 500 Internal Server Error in 218292ms (ActiveRecord: 32.0ms (9 queries, 0 cached) | GC: 122.9ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `create'
app/controllers/orders_controller.rb:26:in `create'
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to ChangeToppingIdToNullableInOrderItems (20250202170450)
  [1m[35m (22.8ms)[0m  [1m[35mALTER TABLE `order_items` CHANGE `topping_id` `topping_id` bigint DEFAULT NULL /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202170450') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-02 22:36:04 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (1.8ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (2.6ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (1.7ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrder Create (0.8ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 0, '2025-02-02 17:06:14.318827', '2025-02-02 17:06:14.318827') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItem Create (1.3ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`) VALUES (2, 1, NULL, NULL, 1, '2025-02-02 17:06:14.369963', '2025-02-02 17:06:14.369963', 1, 'Medium') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (1.0ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (1, 1, '2025-02-02 17:06:14.387664', '2025-02-02 17:06:14.387664') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (1.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (1, 2, '2025-02-02 17:06:14.405636', '2025-02-02 17:06:14.405636') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:66:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block in confirm_order!'
  [1m[36mInventory Update (12.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-02 17:08:22.280305' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block in confirm_order!'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block in confirm_order!'
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:70:in `block in confirm_order!'
  [1m[36mInventory Update (13.3ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-02 17:08:22.328520' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:70:in `block in confirm_order!'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:70:in `block in confirm_order!'
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (13.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-02 17:08:22.379122' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (11.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-02 17:08:22.426955' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
Completed 500 Internal Server Error in 193456ms (ActiveRecord: 141.5ms (19 queries, 0 cached) | GC: 375.3ms)


  
NameError (undefined local variable or method `order_sides' for an instance of Order):
  
app/models/order.rb:78:in `confirm_order!'
app/controllers/orders_controller.rb:27:in `create'
Started POST "/orders" for ::1 at 2025-02-02 22:39:33 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (2.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (2.6ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (3.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 0, '2025-02-02 17:09:38.390138', '2025-02-02 17:09:38.390138') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItem Create (0.6ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`) VALUES (3, 1, NULL, NULL, 1, '2025-02-02 17:09:38.394609', '2025-02-02 17:09:38.394609', 1, 'Medium') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (2, 1, '2025-02-02 17:09:38.396821', '2025-02-02 17:09:38.396821') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (2, 2, '2025-02-02 17:09:38.398147', '2025-02-02 17:09:38.398147') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block in confirm_order!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:68:in `block in confirm_order!'
  [1m[36mInventory Update (20.4ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-02 17:09:48.763762' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:68:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:68:in `block in confirm_order!'
  [1m[36mInventory Load (2.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:70:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:71:in `block in confirm_order!'
  [1m[36mInventory Update (12.3ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-02 17:09:52.256253' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:71:in `block in confirm_order!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:71:in `block in confirm_order!'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (9.6ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-02 17:09:55.055005' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (9.1ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-02 17:09:55.094620' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
Completed 201 Created in 35783ms (Views: 2.1ms | ActiveRecord: 122.0ms (19 queries, 0 cached) | GC: 104.6ms)


Started POST "/orders" for ::1 at 2025-02-02 22:41:38 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 0, '2025-02-02 17:11:39.069325', '2025-02-02 17:11:39.069325') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItem Create (0.4ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`) VALUES (4, 1, NULL, NULL, 1, '2025-02-02 17:11:39.073240', '2025-02-02 17:11:39.073240', 1, 'Medium') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItemTopping Create (0.5ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (3, 1, '2025-02-02 17:11:39.074598', '2025-02-02 17:11:39.074598') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (3, 2, '2025-02-02 17:11:39.076037', '2025-02-02 17:11:39.076037') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:65:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:66:in `block in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-02 17:11:39.085171' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:66:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:66:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:68:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-02 17:11:39.089796' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:72:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-02 17:11:39.093496' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:72:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-02 17:11:39.096927' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `confirm_order!'
  [1m[36mOrder Update (0.7ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-02 17:11:39.099247' WHERE `orders`.`id` = 4 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `confirm_order!'
Completed 201 Created in 81ms (Views: 0.2ms | ActiveRecord: 33.5ms (20 queries, 0 cached) | GC: 5.0ms)


Started POST "/orders" for ::1 at 2025-02-02 22:42:55 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 0, '2025-02-02 17:12:55.366540', '2025-02-02 17:12:55.366540') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItem Create (0.7ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`) VALUES (5, 1, NULL, NULL, 1, '2025-02-02 17:13:02.331296', '2025-02-02 17:13:02.331296', 1, 'Medium') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItemTopping Create (0.4ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (4, 1, '2025-02-02 17:13:02.334261', '2025-02-02 17:13:02.334261') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItemTopping Create (0.5ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (4, 2, '2025-02-02 17:13:02.336594', '2025-02-02 17:13:02.336594') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:66:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block in confirm_order!'
  [1m[36mInventory Update (2.3ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 96, `inventories`.`updated_at` = '2025-02-02 17:13:02.350918' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block in confirm_order!'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:70:in `block in confirm_order!'
  [1m[36mInventory Update (1.5ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 96, `inventories`.`updated_at` = '2025-02-02 17:13:02.358037' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:70:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:70:in `block in confirm_order!'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 96, `inventories`.`updated_at` = '2025-02-02 17:13:02.364266' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (1.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (8.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 96, `inventories`.`updated_at` = '2025-02-02 17:13:02.370810' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:83:in `confirm_order!'
  [1m[36mOrder Update (1.5ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-02 17:13:02.382699' WHERE `orders`.`id` = 5 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:83:in `confirm_order!'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:83:in `confirm_order!'
Completed 201 Created in 7076ms (Views: 0.3ms | ActiveRecord: 56.8ms (20 queries, 0 cached) | GC: 5.0ms)


Started POST "/orders" for ::1 at 2025-02-02 22:56:08 +0530
  [1m[36mActiveRecord::SchemaMigration Load (4.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (4.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (2.5ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (4.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrder Create (7.4ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 0, '2025-02-02 17:26:08.332797', '2025-02-02 17:26:08.332797') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItem Create (5.8ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`) VALUES (6, 1, NULL, NULL, 1, '2025-02-02 17:26:08.351781', '2025-02-02 17:26:08.351781', 1, 'Medium') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItemTopping Create (2.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (5, 1, '2025-02-02 17:26:08.358909', '2025-02-02 17:26:08.358909') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (5, 2, '2025-02-02 17:26:08.362281', '2025-02-02 17:26:08.362281') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mInventory Load (2.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:65:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:66:in `block in confirm_order!'
  [1m[36mInventory Update (5.4ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 95, `inventories`.`updated_at` = '2025-02-02 17:26:08.378165' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:66:in `block in confirm_order!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:66:in `block in confirm_order!'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:68:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block in confirm_order!'
  [1m[36mInventory Update (1.4ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 95, `inventories`.`updated_at` = '2025-02-02 17:26:08.387501' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block in confirm_order!'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block in confirm_order!'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:72:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 95, `inventories`.`updated_at` = '2025-02-02 17:26:08.394064' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (5.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:72:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (6.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 95, `inventories`.`updated_at` = '2025-02-02 17:26:08.409215' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:73:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `confirm_order!'
  [1m[36mOrder Update (3.3ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-02 17:26:08.422314' WHERE `orders`.`id` = 6 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `confirm_order!'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `confirm_order!'
Completed 201 Created in 213ms (Views: 0.3ms | ActiveRecord: 107.1ms (20 queries, 0 cached) | GC: 18.8ms)


Started POST "/orders" for ::1 at 2025-02-02 23:02:03 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.5ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
Completed 500 Internal Server Error in 52ms (ActiveRecord: 19.0ms (5 queries, 0 cached) | GC: 5.9ms)


  
NameError (undefined local variable or method `size' for an instance of Order):
  
app/models/order.rb:11:in `calculate_price'
app/controllers/orders_controller.rb:25:in `create'
Started POST "/orders" for ::1 at 2025-02-02 23:02:38 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
Completed 500 Internal Server Error in 453870ms (ActiveRecord: 22.4ms (5 queries, 0 cached) | GC: 55.4ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `calculate_price'
app/models/order.rb:12:in `calculate_price'
app/controllers/orders_controller.rb:25:in `create'
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (4.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to AddTotalPriceToOrderItemsAndOrders (20250202174017)
  [1m[35m (19.4ms)[0m  [1m[35mALTER TABLE `order_items` ADD `total_amount` decimal(10,2) DEFAULT 0.0 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202174017') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-02 23:13:01 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
Completed 500 Internal Server Error in 93ms (ActiveRecord: 26.9ms (5 queries, 0 cached) | GC: 9.6ms)


  
NameError (undefined local variable or method `order_sides' for an instance of Order):
  
app/models/order.rb:11:in `calculate_total_price'
app/controllers/orders_controller.rb:25:in `create'
Started POST "/orders" for ::1 at 2025-02-02 23:14:46 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.6ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 0, '2025-02-02 17:44:46.296925', '2025-02-02 17:44:46.296925') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItem Create (0.5ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (7, 1, NULL, NULL, 1, '2025-02-02 17:44:46.301241', '2025-02-02 17:44:46.301241', 1, 'Medium', 245.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItemTopping Create (0.4ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (6, 1, '2025-02-02 17:44:46.302844', '2025-02-02 17:44:46.302844') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (6, 2, '2025-02-02 17:44:46.304224', '2025-02-02 17:44:46.304224') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:68:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 94, `inventories`.`updated_at` = '2025-02-02 17:44:46.313852' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:71:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:72:in `block in confirm_order!'
  [1m[36mInventory Update (1.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 94, `inventories`.`updated_at` = '2025-02-02 17:44:46.320538' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:72:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:72:in `block in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:76:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 94, `inventories`.`updated_at` = '2025-02-02 17:44:46.324383' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:76:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:76:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:76:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 94, `inventories`.`updated_at` = '2025-02-02 17:44:46.327948' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:76:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:76:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:85:in `confirm_order!'
  [1m[36mOrder Update (0.8ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`total_amount` = 245, `orders`.`updated_at` = '2025-02-02 17:44:46.331227' WHERE `orders`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:85:in `confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:85:in `confirm_order!'
Completed 201 Created in 91ms (Views: 0.2ms | ActiveRecord: 38.1ms (20 queries, 0 cached) | GC: 6.5ms)


Started POST "/orders" for ::1 at 2025-02-02 23:18:14 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "is_vegetarian"=>true, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.2ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:23:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:23:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:23:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 0, '2025-02-02 17:48:14.364153', '2025-02-02 17:48:14.364153') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:23:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:23:in `create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:23:in `create'
  [1m[36mOrderItem Create (0.6ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (8, 1, NULL, NULL, 1, '2025-02-02 17:48:14.374047', '2025-02-02 17:48:14.374047', 1, 'Medium', 245.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:23:in `create'
  [1m[36mOrderItemTopping Create (0.4ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (7, 1, '2025-02-02 17:48:14.379284', '2025-02-02 17:48:14.379284') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:23:in `create'
  [1m[36mOrderItemTopping Create (0.7ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (7, 2, '2025-02-02 17:48:14.382829', '2025-02-02 17:48:14.382829') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:23:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:23:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:68:in `block in confirm_order!'
  [1m[36mInventory Update (1.1ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 93, `inventories`.`updated_at` = '2025-02-02 17:48:14.402189' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:68:in `block in confirm_order!'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:68:in `block in confirm_order!'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:70:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:71:in `block in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 93, `inventories`.`updated_at` = '2025-02-02 17:48:14.406779' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:71:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:71:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 93, `inventories`.`updated_at` = '2025-02-02 17:48:14.410771' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 93, `inventories`.`updated_at` = '2025-02-02 17:48:14.413772' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:84:in `confirm_order!'
  [1m[36mOrder Update (0.8ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`total_amount` = 245, `orders`.`updated_at` = '2025-02-02 17:48:14.416472' WHERE `orders`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:84:in `confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:84:in `confirm_order!'
Completed 201 Created in 108ms (Views: 0.2ms | ActiveRecord: 44.4ms (20 queries, 0 cached) | GC: 24.7ms)


  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderSides (20250202175256)
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE `order_sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `side_id` bigint NOT NULL, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_sides_on_order_id` (`order_id`), INDEX `index_order_sides_on_side_id` (`side_id`), CONSTRAINT `fk_rails_f8cb2d2624`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
, CONSTRAINT `fk_rails_fb4604d3fd`
FOREIGN KEY (`side_id`)
  REFERENCES `sides` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202175256') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-02 23:39:21 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>5, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 5 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
Completed 422 Unprocessable Content in 38ms (Views: 0.1ms | ActiveRecord: 13.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/orders" for ::1 at 2025-02-02 23:39:34 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.5ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.4ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
Completed 500 Internal Server Error in 23933ms (ActiveRecord: 28.8ms (6 queries, 0 cached) | GC: 38.9ms)


  
NoMethodError (undefined method `price_for_size' for an instance of Pizza):
  
app/models/order.rb:14:in `block in calculate_total_price'
app/models/order.rb:14:in `calculate_total_price'
app/controllers/orders_controller.rb:28:in `create'
Started POST "/orders" for ::1 at 2025-02-02 23:41:27 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.6ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrder Create (2.5ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 355, '2025-02-02 18:12:13.704252', '2025-02-02 18:12:13.704252') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (2.4ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (9, 1, NULL, NULL, 1, '2025-02-02 18:12:13.716596', '2025-02-02 18:12:13.716596', 1, 'Medium', 245.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.7ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (8, 1, '2025-02-02 18:12:13.721348', '2025-02-02 18:12:13.721348') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (1.0ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (8, 2, '2025-02-02 18:12:13.723693', '2025-02-02 18:12:13.723693') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderSide Create (3.2ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (9, 1, 2, '2025-02-02 18:12:13.726264', '2025-02-02 18:12:13.726264') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block in confirm_order!'
  [1m[36mInventory Update (1.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 92, `inventories`.`updated_at` = '2025-02-02 18:12:13.748818' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:77:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 92, `inventories`.`updated_at` = '2025-02-02 18:12:13.754037' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in confirm_order!'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in confirm_order!'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:81:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 92, `inventories`.`updated_at` = '2025-02-02 18:12:13.760557' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:81:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 92, `inventories`.`updated_at` = '2025-02-02 18:12:13.764372' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:91:in `confirm_order!'
  [1m[36mOrder Update (2.7ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-02 18:12:16.088921' WHERE `orders`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:91:in `confirm_order!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:91:in `confirm_order!'
Completed 201 Created in 48617ms (Views: 0.4ms | ActiveRecord: 67.5ms (22 queries, 0 cached) | GC: 32.9ms)


Started POST "/orders" for ::1 at 2025-02-02 23:42:57 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (2.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.8ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 245, '2025-02-02 18:13:02.072989', '2025-02-02 18:13:02.072989') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (0.3ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (10, 1, NULL, NULL, 1, '2025-02-02 18:13:02.079562', '2025-02-02 18:13:02.079562', 1, 'Medium', 245.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (9, 1, '2025-02-02 18:13:02.081147', '2025-02-02 18:13:02.081147') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (9, 2, '2025-02-02 18:13:02.082439', '2025-02-02 18:13:02.082439') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:74:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block in confirm_order!'
  [1m[36mInventory Update (2.1ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 91, `inventories`.`updated_at` = '2025-02-02 18:13:02.086658' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:75:in `block in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:77:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 91, `inventories`.`updated_at` = '2025-02-02 18:13:02.091665' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in confirm_order!'
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:81:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (5.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 91, `inventories`.`updated_at` = '2025-02-02 18:13:02.096482' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:81:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 91, `inventories`.`updated_at` = '2025-02-02 18:13:02.105593' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:82:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:91:in `confirm_order!'
  [1m[36mOrder Update (1.6ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-02 18:13:03.145848' WHERE `orders`.`id` = 10 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:91:in `confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:91:in `confirm_order!'
Completed 201 Created in 5563ms (Views: 0.2ms | ActiveRecord: 31.1ms (20 queries, 0 cached) | GC: 7.7ms)


Started POST "/orders" for ::1 at 2025-02-02 23:45:32 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.4ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'OrderItem' AND `inventories`.`item_id` IS NULL LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:55:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'OrderSide' AND `inventories`.`item_id` IS NULL LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:55:in `block in check_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
Completed 422 Unprocessable Content in 81ms (ActiveRecord: 38.6ms (8 queries, 0 cached) | GC: 5.1ms)


  
ActiveRecord::RecordNotSaved (Failed to save the record):
  
app/controllers/orders_controller.rb:28:in `create'
Started POST "/orders" for ::1 at 2025-02-02 23:46:08 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (1.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'OrderItem' AND `inventories`.`item_id` IS NULL LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'OrderSide' AND `inventories`.`item_id` IS NULL LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
Completed 422 Unprocessable Content in 78705ms (ActiveRecord: 37.6ms (8 queries, 0 cached) | GC: 31.0ms)


  
ActiveRecord::RecordNotSaved (Failed to save the record):
  
app/controllers/orders_controller.rb:28:in `create'
Started POST "/orders" for ::1 at 2025-02-02 23:47:38 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.2ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'OrderItem' AND `inventories`.`item_id` IS NULL LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (5.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'OrderSide' AND `inventories`.`item_id` IS NULL LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
Completed 422 Unprocessable Content in 787884ms (ActiveRecord: 45.6ms (8 queries, 0 cached) | GC: 39.2ms)


  
ActiveRecord::RecordNotSaved (Failed to save the record):
  
app/controllers/orders_controller.rb:28:in `create'
Started POST "/orders" for ::1 at 2025-02-03 00:01:55 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (1.0ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.5ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (1.7ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 355, '2025-02-02 18:31:55.535848', '2025-02-02 18:31:55.535848') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (0.3ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (11, 1, NULL, NULL, 1, '2025-02-02 18:31:55.552774', '2025-02-02 18:31:55.552774', 1, 'Medium', 245.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (2.0ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (10, 1, '2025-02-02 18:31:55.555222', '2025-02-02 18:31:55.555222') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (10, 2, '2025-02-02 18:31:55.559799', '2025-02-02 18:31:55.559799') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderSide Create (0.5ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (11, 1, 2, '2025-02-02 18:31:55.563281', '2025-02-02 18:31:55.563281') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:96:in `block in confirm_order!'
  [1m[36mInventory Update (7.6ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 90, `inventories`.`updated_at` = '2025-02-02 18:31:55.570367' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:96:in `block in confirm_order!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:96:in `block in confirm_order!'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mInventory Update (1.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 90, `inventories`.`updated_at` = '2025-02-02 18:31:55.591062' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.1ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 90, `inventories`.`updated_at` = '2025-02-02 18:31:55.594948' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 90, `inventories`.`updated_at` = '2025-02-02 18:31:55.599255' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:112:in `confirm_order!'
  [1m[36mOrder Update (1.0ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-02 18:31:55.603486' WHERE `orders`.`id` = 11 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:112:in `confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:112:in `confirm_order!'
Completed 201 Created in 142ms (Views: 0.2ms | ActiveRecord: 63.3ms (27 queries, 0 cached) | GC: 29.3ms)


Started POST "/orders" for ::1 at 2025-02-03 00:02:39 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.2ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 355, '2025-02-02 18:32:39.789750', '2025-02-02 18:32:39.789750') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (0.2ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (12, 1, NULL, NULL, 1, '2025-02-02 18:32:39.798300', '2025-02-02 18:32:39.798300', 1, 'Medium', 245.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (11, 1, '2025-02-02 18:32:39.799925', '2025-02-02 18:32:39.799925') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.4ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (11, 2, '2025-02-02 18:32:39.803271', '2025-02-02 18:32:39.803271') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderSide Create (0.2ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (12, 1, 2, '2025-02-02 18:32:39.805097', '2025-02-02 18:32:39.805097') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:96:in `block in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 89, `inventories`.`updated_at` = '2025-02-02 18:32:39.807976' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:96:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:96:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 89, `inventories`.`updated_at` = '2025-02-02 18:32:39.810773' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 89, `inventories`.`updated_at` = '2025-02-02 18:32:39.813599' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 89, `inventories`.`updated_at` = '2025-02-02 18:32:39.816152' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:112:in `confirm_order!'
  [1m[36mOrder Update (0.7ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-02 18:32:39.818085' WHERE `orders`.`id` = 12 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:112:in `confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:112:in `confirm_order!'
Completed 201 Created in 42ms (Views: 0.1ms | ActiveRecord: 13.3ms (27 queries, 0 cached) | GC: 5.2ms)


Started POST "/orders" for ::1 at 2025-02-03 00:03:20 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
Completed 422 Unprocessable Content in 18ms (ActiveRecord: 3.9ms (11 queries, 0 cached) | GC: 3.5ms)


  
ActiveRecord::RecordNotSaved (Failed to save the record):
  
app/controllers/orders_controller.rb:28:in `create'
Started POST "/orders" for ::1 at 2025-02-03 00:05:34 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.2ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
Completed 422 Unprocessable Content in 23395ms (ActiveRecord: 32.3ms (11 queries, 0 cached) | GC: 14.9ms)


  
ActiveRecord::RecordNotSaved (Failed to save the record):
  
app/controllers/orders_controller.rb:28:in `create'
Started POST "/orders" for ::1 at 2025-02-03 00:06:27 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.8ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.4ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
Completed 422 Unprocessable Content in 17117ms (ActiveRecord: 30.9ms (11 queries, 0 cached) | GC: 4.7ms)


  
ActiveRecord::RecordNotSaved (Failed to save the record):
  
app/controllers/orders_controller.rb:28:in `create'
Started POST "/orders" for ::1 at 2025-02-03 00:07:22 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.2ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.2ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (6.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (1.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
Completed 422 Unprocessable Content in 134067ms (ActiveRecord: 46.3ms (18 queries, 0 cached) | GC: 93.8ms)


  
ActiveRecord::RecordNotSaved (Failed to save the record):
  
app/controllers/orders_controller.rb:29:in `create'
Started POST "/orders" for ::1 at 2025-02-03 00:09:47 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (1.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 355, '2025-02-02 18:39:51.085689', '2025-02-02 18:39:51.085689') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mOrderItem Create (0.5ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (13, 1, NULL, NULL, 1, '2025-02-02 18:39:51.108858', '2025-02-02 18:39:51.108858', 1, 'Medium', 245.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (12, 1, '2025-02-02 18:39:51.110815', '2025-02-02 18:39:51.110815') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (12, 2, '2025-02-02 18:39:51.112239', '2025-02-02 18:39:51.112239') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mOrderSide Create (0.3ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (13, 1, 2, '2025-02-02 18:39:51.113806', '2025-02-02 18:39:51.113806') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 88, `inventories`.`updated_at` = '2025-02-02 18:39:51.118798' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 88, `inventories`.`updated_at` = '2025-02-02 18:39:51.122674' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.5ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 88, `inventories`.`updated_at` = '2025-02-02 18:39:51.130474' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:112:in `confirm_order!'
  [1m[36mOrder Update (1.0ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-02 18:39:51.134399' WHERE `orders`.`id` = 13 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:112:in `confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:112:in `confirm_order!'
Completed 201 Created in 3885ms (Views: 0.2ms | ActiveRecord: 55.0ms (26 queries, 0 cached) | GC: 7.8ms)


Started POST "/orders" for ::1 at 2025-02-03 00:10:34 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.2ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (4.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mCACHE Topping Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (2.7ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (4.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
Completed 422 Unprocessable Content in 427091ms (ActiveRecord: 61.4ms (34 queries, 2 cached) | GC: 16.2ms)


  
ActiveRecord::RecordNotSaved (Failed to save the record):
  
app/controllers/orders_controller.rb:29:in `create'
Started POST "/orders" for ::1 at 2025-02-03 00:18:22 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>4, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 4 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.2ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (2.8ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (5.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ (byebug):1:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (3.9ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
Completed 422 Unprocessable Content in 37637ms (ActiveRecord: 16.2ms (8 queries, 0 cached) | GC: 1.2ms)


  
ActiveRecord::RecordNotSaved (Failed to save the record):
  
app/controllers/orders_controller.rb:29:in `create'
Started POST "/orders" for ::1 at 2025-02-03 00:19:08 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>4, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 4 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
Completed 422 Unprocessable Content in 5919ms (ActiveRecord: 6.6ms (6 queries, 0 cached) | GC: 0.7ms)


  
ActiveRecord::RecordNotSaved (Failed to save the record):
  
app/controllers/orders_controller.rb:29:in `create'
Started POST "/orders" for ::1 at 2025-02-03 00:19:56 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>4, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 4 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.2ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
Completed 422 Unprocessable Content in 55512ms (ActiveRecord: 35.0ms (6 queries, 0 cached) | GC: 15.5ms)


  
ActiveRecord::RecordNotSaved (Failed to save the record):
  
app/controllers/orders_controller.rb:29:in `create'
Started POST "/orders" for ::1 at 2025-02-03 00:21:58 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.7ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (3.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:57:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:63:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:70:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:70:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:79:in `block in check_inventory'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 370, '2025-02-02 18:52:05.774303', '2025-02-02 18:52:05.774303') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mOrderItem Create (0.4ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (14, 1, NULL, NULL, 1, '2025-02-02 18:52:05.811249', '2025-02-02 18:52:05.811249', 1, 'Medium', 260.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mOrderItemTopping Create (1.4ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (13, 2, '2025-02-02 18:52:05.813109', '2025-02-02 18:52:05.813109') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (13, 3, '2025-02-02 18:52:05.815616', '2025-02-02 18:52:05.815616') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mOrderSide Create (0.3ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (14, 1, 2, '2025-02-02 18:52:05.818051', '2025-02-02 18:52:05.818051') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:96:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-02 18:52:05.822821' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Update (4.5ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 87, `inventories`.`updated_at` = '2025-02-02 18:52:05.825945' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 87, `inventories`.`updated_at` = '2025-02-02 18:52:05.833422' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-02 18:52:05.837313' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mOrder Update (0.8ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-02 18:52:05.839565' WHERE `orders`.`id` = 14 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
Completed 201 Created in 7332ms (Views: 0.2ms | ActiveRecord: 30.5ms (27 queries, 0 cached) | GC: 5.3ms)


Started POST "/orders" for ::1 at 2025-02-03 07:56:59 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (1.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.5ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mSide Load (0.6ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mOrder Create (1.2ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 370, '2025-02-03 02:27:08.024706', '2025-02-03 02:27:08.024706') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mTopping Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mOrderItem Create (0.5ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (15, 1, NULL, NULL, 1, '2025-02-03 02:27:08.050296', '2025-02-03 02:27:08.050296', 1, 'Medium', 260.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mOrderItemTopping Create (0.6ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (14, 2, '2025-02-03 02:27:08.052688', '2025-02-03 02:27:08.052688') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (14, 3, '2025-02-03 02:27:08.054476', '2025-02-03 02:27:08.054476') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mOrderSide Create (0.4ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (15, 1, 2, '2025-02-03 02:27:08.056361', '2025-02-03 02:27:08.056361') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:96:in `block in confirm_order!'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Update (5.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-03 02:27:08.099019' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 86, `inventories`.`updated_at` = '2025-02-03 02:27:08.110557' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (2.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 86, `inventories`.`updated_at` = '2025-02-03 02:27:08.114082' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-03 02:27:08.120593' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mOrder Update (1.1ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 02:27:08.123634' WHERE `orders`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
Completed 201 Created in 8614ms (Views: 0.3ms | ActiveRecord: 119.7ms (22 queries, 0 cached) | GC: 44.4ms)


Started POST "/orders" for ::1 at 2025-02-03 08:01:05 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"John Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mCrust Load (0.9ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:10:in `block in create'
  [1m[36mTopping Load (0.5ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:20:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mTopping Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:57:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:63:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:70:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:70:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:79:in `block in check_inventory'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('John Doe', 'pending', 370, '2025-02-03 02:31:20.358581', '2025-02-03 02:31:20.358581') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mOrderItem Create (0.4ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (16, 1, NULL, NULL, 1, '2025-02-03 02:31:20.382136', '2025-02-03 02:31:20.382136', 1, 'Medium', 260.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mOrderItemTopping Create (1.0ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (15, 2, '2025-02-03 02:31:20.383988', '2025-02-03 02:31:20.383988') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (15, 3, '2025-02-03 02:31:20.386211', '2025-02-03 02:31:20.386211') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mOrderSide Create (0.2ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (16, 1, 2, '2025-02-03 02:31:20.387865', '2025-02-03 02:31:20.387865') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:96:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Update (1.3ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 96, `inventories`.`updated_at` = '2025-02-03 02:31:20.392137' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Update (4.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 85, `inventories`.`updated_at` = '2025-02-03 02:31:20.396214' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (6.3ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 85, `inventories`.`updated_at` = '2025-02-03 02:31:20.403944' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-03 02:31:20.412782' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mOrder Update (1.1ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 02:31:20.415765' WHERE `orders`.`id` = 16 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
Completed 201 Created in 14861ms (Views: 0.2ms | ActiveRecord: 79.9ms (27 queries, 0 cached) | GC: 42.6ms)


Started POST "/orders" for ::1 at 2025-02-03 11:28:22 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"pras Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.5ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('pras Doe', 'pending', 370, '2025-02-03 05:58:22.802395', '2025-02-03 05:58:22.802395') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (0.7ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `topping_id`, `side_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (17, 1, NULL, NULL, 1, '2025-02-03 05:58:22.818342', '2025-02-03 05:58:22.818342', 1, 'Medium', 260.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.5ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (16, 2, '2025-02-03 05:58:22.820408', '2025-02-03 05:58:22.820408') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.7ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (16, 3, '2025-02-03 05:58:22.821835', '2025-02-03 05:58:22.821835') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderSide Create (0.4ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (17, 1, 2, '2025-02-03 05:58:22.823577', '2025-02-03 05:58:22.823577') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 95, `inventories`.`updated_at` = '2025-02-03 05:58:22.827095' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Update (1.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 84, `inventories`.`updated_at` = '2025-02-03 05:58:22.837779' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 84, `inventories`.`updated_at` = '2025-02-03 05:58:22.841804' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 96, `inventories`.`updated_at` = '2025-02-03 05:58:22.845182' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:109:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mInventory Update (1.3ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-03 05:58:22.849880' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mOrder Update (1.3ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 05:58:22.852942' WHERE `orders`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
Completed 201 Created in 154ms (Views: 0.2ms | ActiveRecord: 52.4ms (29 queries, 0 cached) | GC: 18.7ms)


  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to RemoveToppingIdAndSideIdFromPizzas (20250203060124)
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE `pizzas` DROP COLUMN `topping_id` /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to RemoveToppingIdAndSideIdFromOrderItem (20250203060124)
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE `order_item` DROP COLUMN `topping_id` /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to RemoveToppingIdAndSideIdFromOrderItem (20250203060124)
  [1m[35m (16.5ms)[0m  [1m[35mALTER TABLE `order_items` DROP FOREIGN KEY fk_rails_f0fe11be9c /*application='MyPizzaFactory'*/[0m
  [1m[35m (17.2ms)[0m  [1m[35mALTER TABLE `order_items` DROP COLUMN `topping_id` /*application='MyPizzaFactory'*/[0m
  [1m[35m (7.6ms)[0m  [1m[35mALTER TABLE `order_items` DROP FOREIGN KEY fk_rails_1b467f8eca /*application='MyPizzaFactory'*/[0m
  [1m[35m (12.9ms)[0m  [1m[35mALTER TABLE `order_items` DROP COLUMN `side_id` /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250203060124') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-03 11:35:32 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"pras Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.5ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.6ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.5ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('pras Doe', 'pending', 370, '2025-02-03 06:05:32.982473', '2025-02-03 06:05:32.982473') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (1.0ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (18, 1, 1, '2025-02-03 06:05:32.996579', '2025-02-03 06:05:32.996579', 1, 'Medium', 260.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.5ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (17, 2, '2025-02-03 06:05:32.998400', '2025-02-03 06:05:32.998400') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (17, 3, '2025-02-03 06:05:32.999918', '2025-02-03 06:05:32.999918') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderSide Create (0.3ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (18, 1, 2, '2025-02-03 06:05:33.001215', '2025-02-03 06:05:33.001215') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Update (1.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 94, `inventories`.`updated_at` = '2025-02-03 06:05:33.012020' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 83, `inventories`.`updated_at` = '2025-02-03 06:05:33.016636' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 83, `inventories`.`updated_at` = '2025-02-03 06:05:33.019838' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 95, `inventories`.`updated_at` = '2025-02-03 06:05:33.024092' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:109:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-03 06:05:33.027606' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mOrder Update (1.4ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 06:05:33.030597' WHERE `orders`.`id` = 18 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
Completed 201 Created in 153ms (Views: 0.3ms | ActiveRecord: 54.2ms (29 queries, 0 cached) | GC: 18.3ms)


  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to RemoveSizeFromPizzas (20250203060607)
  [1m[35m (19.6ms)[0m  [1m[35mALTER TABLE `pizzas` DROP COLUMN `size` /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250203060607') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-03 11:36:39 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"pras Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.6ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('pras Doe', 'pending', 370, '2025-02-03 06:06:39.891226', '2025-02-03 06:06:39.891226') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (0.3ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (19, 1, 1, '2025-02-03 06:06:39.905941', '2025-02-03 06:06:39.905941', 1, 'Medium', 260.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (18, 2, '2025-02-03 06:06:39.907111', '2025-02-03 06:06:39.907111') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (18, 3, '2025-02-03 06:06:39.908320', '2025-02-03 06:06:39.908320') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderSide Create (0.3ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (19, 1, 2, '2025-02-03 06:06:39.909663', '2025-02-03 06:06:39.909663') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Update (1.5ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 93, `inventories`.`updated_at` = '2025-02-03 06:06:39.920900' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 82, `inventories`.`updated_at` = '2025-02-03 06:06:39.925401' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 82, `inventories`.`updated_at` = '2025-02-03 06:06:39.929118' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 94, `inventories`.`updated_at` = '2025-02-03 06:06:39.934281' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:109:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-03 06:06:39.937448' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mOrder Update (1.0ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 06:06:39.939568' WHERE `orders`.`id` = 19 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
Completed 201 Created in 156ms (Views: 0.2ms | ActiveRecord: 60.8ms (29 queries, 0 cached) | GC: 18.7ms)


  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to DropPizzasToppingsJoinTable (20250203060821)
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250203060821') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.5ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Migrating to DropPizzasToppingsJoinTable (20250203060821)
  [1m[36mActiveRecord::SchemaMigration Destroy (1.1ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20250203060821' /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to DropPizzasToppingsJoinTable (20250203060821)
  [1m[35m (5.3ms)[0m  [1m[35mDROP TABLE `pizzas_toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250203060821') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-03 11:40:17 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"pras Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.5ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.6ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.6ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('pras Doe', 'pending', 370, '2025-02-03 06:10:17.717363', '2025-02-03 06:10:17.717363') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (0.3ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (20, 1, 1, '2025-02-03 06:10:17.731605', '2025-02-03 06:10:17.731605', 1, 'Medium', 260.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (19, 2, '2025-02-03 06:10:17.732810', '2025-02-03 06:10:17.732810') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (19, 3, '2025-02-03 06:10:17.734059', '2025-02-03 06:10:17.734059') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderSide Create (0.2ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (20, 1, 2, '2025-02-03 06:10:17.735344', '2025-02-03 06:10:17.735344') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 92, `inventories`.`updated_at` = '2025-02-03 06:10:17.745810' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Update (1.1ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 81, `inventories`.`updated_at` = '2025-02-03 06:10:17.749569' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.4ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 81, `inventories`.`updated_at` = '2025-02-03 06:10:17.753181' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 93, `inventories`.`updated_at` = '2025-02-03 06:10:17.757398' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:109:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 96, `inventories`.`updated_at` = '2025-02-03 06:10:17.762740' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mOrder Update (1.2ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 06:10:17.765492' WHERE `orders`.`id` = 20 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
Completed 201 Created in 156ms (Views: 0.3ms | ActiveRecord: 52.2ms (29 queries, 0 cached) | GC: 18.2ms)


Started POST "/orders" for ::1 at 2025-02-03 11:40:26 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"pras Doe", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('pras Doe', 'pending', 370, '2025-02-03 06:10:26.341430', '2025-02-03 06:10:26.341430') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (0.3ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (21, 1, 1, '2025-02-03 06:10:26.354251', '2025-02-03 06:10:26.354251', 1, 'Medium', 260.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (20, 2, '2025-02-03 06:10:26.355576', '2025-02-03 06:10:26.355576') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (20, 3, '2025-02-03 06:10:26.356901', '2025-02-03 06:10:26.356901') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderSide Create (0.2ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (21, 1, 2, '2025-02-03 06:10:26.358004', '2025-02-03 06:10:26.358004') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 91, `inventories`.`updated_at` = '2025-02-03 06:10:26.362076' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Update (1.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 80, `inventories`.`updated_at` = '2025-02-03 06:10:26.365159' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.3ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 80, `inventories`.`updated_at` = '2025-02-03 06:10:26.372259' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 92, `inventories`.`updated_at` = '2025-02-03 06:10:26.376165' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:109:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 95, `inventories`.`updated_at` = '2025-02-03 06:10:26.379359' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mOrder Update (1.3ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 06:10:26.381906' WHERE `orders`.`id` = 21 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
Completed 201 Created in 103ms (Views: 0.2ms | ActiveRecord: 46.1ms (29 queries, 0 cached) | GC: 11.0ms)


Started POST "/orders" for ::1 at 2025-02-03 11:40:54 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"ras nis", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (1.0ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('ras nis', 'pending', 370, '2025-02-03 06:10:54.142485', '2025-02-03 06:10:54.142485') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (0.8ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (22, 1, 1, '2025-02-03 06:10:54.159089', '2025-02-03 06:10:54.159089', 1, 'Medium', 260.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (21, 2, '2025-02-03 06:10:54.160964', '2025-02-03 06:10:54.160964') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (21, 3, '2025-02-03 06:10:54.162285', '2025-02-03 06:10:54.162285') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderSide Create (0.3ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (22, 1, 2, '2025-02-03 06:10:54.163748', '2025-02-03 06:10:54.163748') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 90, `inventories`.`updated_at` = '2025-02-03 06:10:54.167898' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 79, `inventories`.`updated_at` = '2025-02-03 06:10:54.170805' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 79, `inventories`.`updated_at` = '2025-02-03 06:10:54.173622' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 91, `inventories`.`updated_at` = '2025-02-03 06:10:54.177326' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:109:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 94, `inventories`.`updated_at` = '2025-02-03 06:10:54.180620' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mOrder Update (0.9ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 06:10:54.183057' WHERE `orders`.`id` = 22 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
Completed 201 Created in 128ms (Views: 0.1ms | ActiveRecord: 50.6ms (29 queries, 0 cached) | GC: 24.8ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35m (43.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_development` /*application='MyPizzaFactory'*/[0m
  [1m[35m (39.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_test` /*application='MyPizzaFactory'*/[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_development` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_test` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE IF EXISTS `crusts` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE TABLE `crusts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `inventories` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE `inventories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `item_type` varchar(255), `item_id` int, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `order_item_toppings` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE `order_item_toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_item_id` bigint NOT NULL, `topping_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_item_toppings_on_order_item_id` (`order_item_id`), INDEX `index_order_item_toppings_on_topping_id` (`topping_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `order_items` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE `order_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `pizza_id` bigint NOT NULL, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `crust_id` int, `size` varchar(255), `total_amount` decimal(10,2) DEFAULT 0.0, INDEX `index_order_items_on_order_id` (`order_id`), INDEX `index_order_items_on_pizza_id` (`pizza_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `order_sides` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE `order_sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `side_id` bigint NOT NULL, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_sides_on_order_id` (`order_id`), INDEX `index_order_sides_on_side_id` (`side_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `orders` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `customer_name` varchar(255), `status` varchar(255), `total_amount` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `pizzas` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE `pizzas` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price_regular` decimal(10), `price_medium` decimal(10), `price_large` decimal(10), `crust_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `category` varchar(255), INDEX `index_pizzas_on_crust_id` (`crust_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `sides` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE `sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `toppings` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE `toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal(10), `is_vegetarian` tinyint(1), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (13.7ms)[0m  [1m[35mALTER TABLE `order_item_toppings` ADD CONSTRAINT `fk_rails_dc7b80a860`
FOREIGN KEY (`order_item_id`)
  REFERENCES `order_items` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (10.1ms)[0m  [1m[35mALTER TABLE `order_item_toppings` ADD CONSTRAINT `fk_rails_8bc35592b7`
FOREIGN KEY (`topping_id`)
  REFERENCES `toppings` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (19.9ms)[0m  [1m[35mALTER TABLE `order_items` ADD CONSTRAINT `fk_rails_e3cb28f071`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (13.8ms)[0m  [1m[35mALTER TABLE `order_items` ADD CONSTRAINT `fk_rails_d28b17c368`
FOREIGN KEY (`pizza_id`)
  REFERENCES `pizzas` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (11.5ms)[0m  [1m[35mALTER TABLE `order_sides` ADD CONSTRAINT `fk_rails_f8cb2d2624`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (11.0ms)[0m  [1m[35mALTER TABLE `order_sides` ADD CONSTRAINT `fk_rails_fb4604d3fd`
FOREIGN KEY (`side_id`)
  REFERENCES `sides` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (14.5ms)[0m  [1m[35mALTER TABLE `pizzas` ADD CONSTRAINT `fk_rails_cd6ddc59bc`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20250203060821) /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20250203060124),
(20250202175256),
(20250202174017),
(20250202170450),
(20250202134356),
(20250202122640),
(20250202115634),
(20250202035725),
(20250202023936),
(20250201135608),
(20250201135559),
(20250201135547),
(20250201135537),
(20250201135526),
(20250201135428),
(20250201135417); /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2025-02-03 06:22:14.223909', '2025-02-03 06:22:14.223911') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', 'd34efa3c8ed9e306ca0454387939e3a40ed3c33b', '2025-02-03 06:22:14.226547', '2025-02-03 06:22:14.226548') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.2ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.2ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (0.2ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.3ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.3ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.3ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (0.2ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.3ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('New hand tossed', 0, '2025-02-03 06:25:00.293638', '2025-02-03 06:25:00.293638') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Wheat thin crust' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.4ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Wheat thin crust', 0, '2025-02-03 06:25:00.297860', '2025-02-03 06:25:00.297860') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Cheese Burst' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.2ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cheese Burst', 0, '2025-02-03 06:25:00.301748', '2025-02-03 06:25:00.301748') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Fresh pan pizza' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.3ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Fresh pan pizza', 0, '2025-02-03 06:25:00.304818', '2025-02-03 06:25:00.304818') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (1.7ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.3ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `category`) VALUES ('Deluxe Veggie', 150, 200, 325, 1, '2025-02-03 06:25:00.320261', '2025-02-03 06:25:00.320261', 'vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (2.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Cheese and corn' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.2ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `category`) VALUES ('Cheese and corn', 175, 375, 475, 1, '2025-02-03 06:25:00.326029', '2025-02-03 06:25:00.326029', 'vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (0.8ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Paneer Tikka' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.2ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `category`) VALUES ('Paneer Tikka', 160, 290, 340, 1, '2025-02-03 06:25:00.329885', '2025-02-03 06:25:00.329885', 'vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (0.9ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Non-Veg Supreme' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.4ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `category`) VALUES ('Non-Veg Supreme', 190, 325, 425, 1, '2025-02-03 06:25:00.339344', '2025-02-03 06:25:00.339344', 'non-vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (1.0ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Chicken Tikka' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.3ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `category`) VALUES ('Chicken Tikka', 210, 370, 500, 1, '2025-02-03 06:25:00.344549', '2025-02-03 06:25:00.344549', 'non-vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (0.8ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Pepper Barbecue Chicken' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.3ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `category`) VALUES ('Pepper Barbecue Chicken', 220, 380, 525, 1, '2025-02-03 06:25:00.349358', '2025-02-03 06:25:00.349358', 'non-vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Black olive', 20, TRUE, '2025-02-03 06:25:00.356878', '2025-02-03 06:25:00.356878') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Capsicum', 25, TRUE, '2025-02-03 06:25:00.360349', '2025-02-03 06:25:00.360349') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Paneer', 35, TRUE, '2025-02-03 06:25:00.363591', '2025-02-03 06:25:00.363591') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Mushroom' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Mushroom', 30, TRUE, '2025-02-03 06:25:00.366663', '2025-02-03 06:25:00.366663') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Fresh tomato' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Fresh tomato', 10, TRUE, '2025-02-03 06:25:00.369648', '2025-02-03 06:25:00.369648') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Chicken tikka' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.4ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Chicken tikka', 35, FALSE, '2025-02-03 06:25:00.376248', '2025-02-03 06:25:00.376248') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Barbeque chicken' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Barbeque chicken', 45, FALSE, '2025-02-03 06:25:00.379814', '2025-02-03 06:25:00.379814') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Grilled chicken' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Grilled chicken', 40, FALSE, '2025-02-03 06:25:00.383311', '2025-02-03 06:25:00.383311') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Extra cheese' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Extra cheese', 35, TRUE, '2025-02-03 06:25:00.386207', '2025-02-03 06:25:00.386207') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `sides` WHERE `sides`.`name` = 'Cold drink' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Create (0.2ms)[0m  [1m[32mINSERT INTO `sides` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cold drink', 55, '2025-02-03 06:25:00.392876', '2025-02-03 06:25:00.392876') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `sides` WHERE `sides`.`name` = 'Mousse cake' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Create (0.3ms)[0m  [1m[32mINSERT INTO `sides` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Mousse cake', 90, '2025-02-03 06:25:00.396200', '2025-02-03 06:25:00.396200') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.9ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 1, 100, '2025-02-03 06:25:00.401456', '2025-02-03 06:25:00.401456') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 2, 100, '2025-02-03 06:25:00.403819', '2025-02-03 06:25:00.403819') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 3, 100, '2025-02-03 06:25:00.406569', '2025-02-03 06:25:00.406569') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 4, 100, '2025-02-03 06:25:00.408777', '2025-02-03 06:25:00.408777') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.9ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 5, 100, '2025-02-03 06:25:00.413112', '2025-02-03 06:25:00.413112') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 6, 100, '2025-02-03 06:25:00.415522', '2025-02-03 06:25:00.415522') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 1, 100, '2025-02-03 06:25:00.418168', '2025-02-03 06:25:00.418168') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.0ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 2, 100, '2025-02-03 06:25:00.420735', '2025-02-03 06:25:00.420735') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 3, 100, '2025-02-03 06:25:00.423088', '2025-02-03 06:25:00.423088') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 4, 100, '2025-02-03 06:25:00.425230', '2025-02-03 06:25:00.425230') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 5, 100, '2025-02-03 06:25:00.427861', '2025-02-03 06:25:00.427861') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.6ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 6, 100, '2025-02-03 06:25:00.430119', '2025-02-03 06:25:00.430119') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.3ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 7, 100, '2025-02-03 06:25:00.435799', '2025-02-03 06:25:00.435799') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 8, 100, '2025-02-03 06:25:00.438498', '2025-02-03 06:25:00.438498') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Side', 1, 100, '2025-02-03 06:25:00.440591', '2025-02-03 06:25:00.440591') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Side', 2, 100, '2025-02-03 06:25:00.442533', '2025-02-03 06:25:00.442533') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (8.3ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 1, 100, '2025-02-03 06:25:00.444531', '2025-02-03 06:25:00.444531') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (2.4ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 2, 100, '2025-02-03 06:25:00.454473', '2025-02-03 06:25:00.454473') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.6ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 3, 100, '2025-02-03 06:25:00.458346', '2025-02-03 06:25:00.458346') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 4, 100, '2025-02-03 06:25:00.460261', '2025-02-03 06:25:00.460261') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-03 11:55:18 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"ras nis", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.4ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('ras nis', 'pending', 370, '2025-02-03 06:25:18.797733', '2025-02-03 06:25:18.797733') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (0.4ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (1, 1, 1, '2025-02-03 06:25:18.812131', '2025-02-03 06:25:18.812131', 1, 'Medium', 260.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (1, 2, '2025-02-03 06:25:18.813551', '2025-02-03 06:25:18.813551') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (1, 3, '2025-02-03 06:25:18.814875', '2025-02-03 06:25:18.814875') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderSide Create (0.4ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (1, 1, 2, '2025-02-03 06:25:18.816243', '2025-02-03 06:25:18.816243') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (3.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Update (8.5ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-03 06:25:18.823066' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Update (1.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-03 06:25:18.834650' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.1ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-03 06:25:18.838567' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.6ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-03 06:25:18.842427' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:109:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-03 06:25:18.846074' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mOrder Update (1.0ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 06:25:18.848676' WHERE `orders`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
Completed 201 Created in 162ms (Views: 0.2ms | ActiveRecord: 67.3ms (29 queries, 0 cached) | GC: 18.6ms)


Started POST "/orders" for ::1 at 2025-02-03 12:02:04 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"rasaa nis", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.9ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.6ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.4ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('rasaa nis', 'pending', 370, '2025-02-03 06:32:04.725264', '2025-02-03 06:32:04.725264') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (0.3ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`, `total_amount`) VALUES (2, 1, 1, '2025-02-03 06:32:04.740566', '2025-02-03 06:32:04.740566', 1, 'Medium', 0.0) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (2, 2, '2025-02-03 06:32:04.742111', '2025-02-03 06:32:04.742111') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (2, 3, '2025-02-03 06:32:04.743646', '2025-02-03 06:32:04.743646') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderSide Create (0.1ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (2, 1, 2, '2025-02-03 06:32:04.744894', '2025-02-03 06:32:04.744894') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-03 06:32:04.747914' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Update (8.6ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-03 06:32:04.751159' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-03 06:32:04.762575' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-03 06:32:04.765902' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:109:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-03 06:32:04.771119' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mOrder Update (0.9ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 06:32:04.774228' WHERE `orders`.`id` = 2 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
Completed 201 Created in 158ms (Views: 0.2ms | ActiveRecord: 65.6ms (29 queries, 0 cached) | GC: 17.8ms)


  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to RemoveTotalAmountFromOrderItems (20250203063301)
  [1m[35m (11.3ms)[0m  [1m[35mALTER TABLE `order_items` DROP COLUMN `total_amount` /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250203063301') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-03 12:04:03 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"rasaa nis", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.2ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (4.9ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('rasaa nis', 'pending', 370, '2025-02-03 06:34:03.628293', '2025-02-03 06:34:03.628293') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (3.9ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `quantity`, `created_at`, `updated_at`, `crust_id`, `size`) VALUES (3, 1, 1, '2025-02-03 06:34:03.649316', '2025-02-03 06:34:03.649316', 1, 'Medium') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (3, 2, '2025-02-03 06:34:03.654274', '2025-02-03 06:34:03.654274') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (3, 3, '2025-02-03 06:34:03.655622', '2025-02-03 06:34:03.655622') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderSide Create (0.6ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (3, 1, 2, '2025-02-03 06:34:03.656945', '2025-02-03 06:34:03.656945') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Update (10.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-03 06:34:03.660718' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Update (1.5ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-03 06:34:03.674514' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-03 06:34:03.678607' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (2.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-03 06:34:03.681960' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:109:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mInventory Update (1.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-03 06:34:03.687805' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mOrder Update (1.0ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 06:34:03.692314' WHERE `orders`.`id` = 3 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
Completed 201 Created in 167ms (Views: 0.3ms | ActiveRecord: 75.2ms (29 queries, 0 cached) | GC: 18.1ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35m (42.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_development` /*application='MyPizzaFactory'*/[0m
  [1m[35m (23.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_test` /*application='MyPizzaFactory'*/[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_development` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_test` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) /*application='MyPizzaFactory'*/[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2025-02-03 06:54:40.787666', '2025-02-03 06:54:40.787668') /*application='MyPizzaFactory'*/[0m
Migrating to CreateCrusts (20250201135417)
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE `crusts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135417') /*application='MyPizzaFactory'*/[0m
Migrating to CreateToppings (20250201135428)
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE `toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `is_vegetarian` tinyint(1), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135428') /*application='MyPizzaFactory'*/[0m
Migrating to CreatePizzas (20250201135526)
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE `pizzas` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price_regular` decimal, `price_medium` decimal, `price_large` decimal, `crust_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_pizzas_on_crust_id` (`crust_id`), CONSTRAINT `fk_rails_cd6ddc59bc`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135526') /*application='MyPizzaFactory'*/[0m
Migrating to CreateSides (20250201135537)
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE `sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135537') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrders (20250201135547)
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `customer_name` varchar(255), `status` varchar(255), `total_amount` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135547') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderItems (20250201135559)
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderItems (20250201135559)
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35m (29.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_development` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_test` /*application='MyPizzaFactory'*/[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_development` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_test` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) /*application='MyPizzaFactory'*/[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2025-02-03 06:56:10.018584', '2025-02-03 06:56:10.018586') /*application='MyPizzaFactory'*/[0m
Migrating to CreateCrusts (20250201135417)
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE `crusts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135417') /*application='MyPizzaFactory'*/[0m
Migrating to CreateToppings (20250201135428)
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE `toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `is_vegetarian` tinyint(1), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135428') /*application='MyPizzaFactory'*/[0m
Migrating to CreatePizzas (20250201135526)
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE `pizzas` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price_regular` decimal, `price_medium` decimal, `price_large` decimal, `crust_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_pizzas_on_crust_id` (`crust_id`), CONSTRAINT `fk_rails_cd6ddc59bc`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135526') /*application='MyPizzaFactory'*/[0m
Migrating to CreateSides (20250201135537)
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE `sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135537') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrders (20250201135547)
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `customer_name` varchar(255), `status` varchar(255), `total_amount` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135547') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderItems (20250201135559)
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE `order_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `pizza_id` bigint NOT NULL, `crust_id` bigint NOT NULL, `quantity` int, `size` varchar(255), `total_amount` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_items_on_order_id` (`order_id`), INDEX `index_order_items_on_pizza_id` (`pizza_id`), INDEX `index_order_items_on_crust_id` (`crust_id`), CONSTRAINT `fk_rails_e3cb28f071`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
, CONSTRAINT `fk_rails_d28b17c368`
FOREIGN KEY (`pizza_id`)
  REFERENCES `pizzas` (`id`)
, CONSTRAINT `fk_rails_e0c46a1d52`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135559') /*application='MyPizzaFactory'*/[0m
Migrating to CreateInventories (20250201135608)
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE `inventories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `item_type` varchar(255), `item_id` int, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135608') /*application='MyPizzaFactory'*/[0m
Migrating to AddCrustToOrderItems (20250202023936)
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE `order_items` ADD `crust_id` int /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to ChangeSideIdToNullableInOrderItems (20250202035725)
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35m (33.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_development` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_test` /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_development` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) /*application='MyPizzaFactory'*/[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2025-02-03 06:57:21.336598', '2025-02-03 06:57:21.336600') /*application='MyPizzaFactory'*/[0m
Migrating to CreateCrusts (20250201135417)
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE `crusts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135417') /*application='MyPizzaFactory'*/[0m
Migrating to CreateToppings (20250201135428)
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE `toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `is_vegetarian` tinyint(1), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135428') /*application='MyPizzaFactory'*/[0m
Migrating to CreatePizzas (20250201135526)
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE `pizzas` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price_regular` decimal, `price_medium` decimal, `price_large` decimal, `crust_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_pizzas_on_crust_id` (`crust_id`), CONSTRAINT `fk_rails_cd6ddc59bc`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135526') /*application='MyPizzaFactory'*/[0m
Migrating to CreateSides (20250201135537)
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE `sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135537') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrders (20250201135547)
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `customer_name` varchar(255), `status` varchar(255), `total_amount` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135547') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderItems (20250201135559)
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE `order_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `pizza_id` bigint NOT NULL, `crust_id` bigint NOT NULL, `quantity` int, `size` varchar(255), `total_amount` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_items_on_order_id` (`order_id`), INDEX `index_order_items_on_pizza_id` (`pizza_id`), INDEX `index_order_items_on_crust_id` (`crust_id`), CONSTRAINT `fk_rails_e3cb28f071`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
, CONSTRAINT `fk_rails_d28b17c368`
FOREIGN KEY (`pizza_id`)
  REFERENCES `pizzas` (`id`)
, CONSTRAINT `fk_rails_e0c46a1d52`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135559') /*application='MyPizzaFactory'*/[0m
Migrating to CreateInventories (20250201135608)
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE `inventories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `item_type` varchar(255), `item_id` int, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135608') /*application='MyPizzaFactory'*/[0m
Migrating to ChangeSideIdToNullableInOrderItems (20250202035725)
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35m (33.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_development` /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_test` /*application='MyPizzaFactory'*/[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_development` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_test` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) /*application='MyPizzaFactory'*/[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2025-02-03 06:57:35.026498', '2025-02-03 06:57:35.026500') /*application='MyPizzaFactory'*/[0m
Migrating to CreateCrusts (20250201135417)
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE `crusts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135417') /*application='MyPizzaFactory'*/[0m
Migrating to CreateToppings (20250201135428)
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE `toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `is_vegetarian` tinyint(1), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135428') /*application='MyPizzaFactory'*/[0m
Migrating to CreatePizzas (20250201135526)
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE `pizzas` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price_regular` decimal, `price_medium` decimal, `price_large` decimal, `crust_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_pizzas_on_crust_id` (`crust_id`), CONSTRAINT `fk_rails_cd6ddc59bc`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135526') /*application='MyPizzaFactory'*/[0m
Migrating to CreateSides (20250201135537)
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE `sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135537') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrders (20250201135547)
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `customer_name` varchar(255), `status` varchar(255), `total_amount` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135547') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderItems (20250201135559)
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE `order_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `pizza_id` bigint NOT NULL, `crust_id` bigint NOT NULL, `quantity` int, `size` varchar(255), `total_amount` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_items_on_order_id` (`order_id`), INDEX `index_order_items_on_pizza_id` (`pizza_id`), INDEX `index_order_items_on_crust_id` (`crust_id`), CONSTRAINT `fk_rails_e3cb28f071`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
, CONSTRAINT `fk_rails_d28b17c368`
FOREIGN KEY (`pizza_id`)
  REFERENCES `pizzas` (`id`)
, CONSTRAINT `fk_rails_e0c46a1d52`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135559') /*application='MyPizzaFactory'*/[0m
Migrating to CreateInventories (20250201135608)
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE `inventories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `item_type` varchar(255), `item_id` int, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135608') /*application='MyPizzaFactory'*/[0m
Migrating to ChangeSideIdToNullableInOrderItems (20250202035725)
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderItemToppings (20250202115634)
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE `order_item_toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_item_id` bigint NOT NULL, `topping_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_item_toppings_on_order_item_id` (`order_item_id`), INDEX `index_order_item_toppings_on_topping_id` (`topping_id`), CONSTRAINT `fk_rails_dc7b80a860`
FOREIGN KEY (`order_item_id`)
  REFERENCES `order_items` (`id`)
, CONSTRAINT `fk_rails_8bc35592b7`
FOREIGN KEY (`topping_id`)
  REFERENCES `toppings` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202115634') /*application='MyPizzaFactory'*/[0m
Migrating to AddSizeToOrderItems (20250202122640)
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE `order_items` ADD `size` varchar(255) /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
Migrating to AddCategoryToPizzas (20250202134356)
  [1m[35m (14.9ms)[0m  [1m[35mALTER TABLE `pizzas` ADD `category` varchar(255) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202134356') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderSides (20250202175256)
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE `order_sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `side_id` bigint NOT NULL, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_sides_on_order_id` (`order_id`), INDEX `index_order_sides_on_side_id` (`side_id`), CONSTRAINT `fk_rails_f8cb2d2624`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
, CONSTRAINT `fk_rails_fb4604d3fd`
FOREIGN KEY (`side_id`)
  REFERENCES `sides` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202175256') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35m (42.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_development` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_test` /*application='MyPizzaFactory'*/[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_development` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_test` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS `crusts` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE `crusts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS `inventories` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE `inventories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `item_type` varchar(255), `item_id` int, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS `order_item_toppings` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE `order_item_toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_item_id` bigint NOT NULL, `topping_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_item_toppings_on_order_item_id` (`order_item_id`), INDEX `index_order_item_toppings_on_topping_id` (`topping_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `order_items` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE `order_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `pizza_id` bigint NOT NULL, `crust_id` bigint NOT NULL, `quantity` int, `size` varchar(255), `total_amount` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_items_on_crust_id` (`crust_id`), INDEX `index_order_items_on_order_id` (`order_id`), INDEX `index_order_items_on_pizza_id` (`pizza_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `order_sides` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE `order_sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `side_id` bigint NOT NULL, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_sides_on_order_id` (`order_id`), INDEX `index_order_sides_on_side_id` (`side_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `orders` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `customer_name` varchar(255), `status` varchar(255), `total_amount` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `pizzas` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE `pizzas` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price_regular` decimal(10), `price_medium` decimal(10), `price_large` decimal(10), `crust_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `category` varchar(255), INDEX `index_pizzas_on_crust_id` (`crust_id`)) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `sides` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE `sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `toppings` CASCADE /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE `toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal(10), `is_vegetarian` tinyint(1), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci /*application='MyPizzaFactory'*/[0m
  [1m[35m (8.4ms)[0m  [1m[35mALTER TABLE `order_item_toppings` ADD CONSTRAINT `fk_rails_dc7b80a860`
FOREIGN KEY (`order_item_id`)
  REFERENCES `order_items` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (8.8ms)[0m  [1m[35mALTER TABLE `order_item_toppings` ADD CONSTRAINT `fk_rails_8bc35592b7`
FOREIGN KEY (`topping_id`)
  REFERENCES `toppings` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (11.7ms)[0m  [1m[35mALTER TABLE `order_items` ADD CONSTRAINT `fk_rails_e0c46a1d52`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (10.9ms)[0m  [1m[35mALTER TABLE `order_items` ADD CONSTRAINT `fk_rails_e3cb28f071`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (11.0ms)[0m  [1m[35mALTER TABLE `order_items` ADD CONSTRAINT `fk_rails_d28b17c368`
FOREIGN KEY (`pizza_id`)
  REFERENCES `pizzas` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (8.8ms)[0m  [1m[35mALTER TABLE `order_sides` ADD CONSTRAINT `fk_rails_f8cb2d2624`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (9.2ms)[0m  [1m[35mALTER TABLE `order_sides` ADD CONSTRAINT `fk_rails_fb4604d3fd`
FOREIGN KEY (`side_id`)
  REFERENCES `sides` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (11.8ms)[0m  [1m[35mALTER TABLE `pizzas` ADD CONSTRAINT `fk_rails_cd6ddc59bc`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
 /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20250202175256) /*application='MyPizzaFactory'*/[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20250202134356),
(20250202115634),
(20250201135608),
(20250201135559),
(20250201135547),
(20250201135537),
(20250201135526),
(20250201135428),
(20250201135417); /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2025-02-03 07:00:43.562590', '2025-02-03 07:00:43.562591') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', 'fbfc87f39ec317f7b2cef77f8848e8b02c7283a6', '2025-02-03 07:00:43.564811', '2025-02-03 07:00:43.564812') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[35m (38.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_development` /*application='MyPizzaFactory'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS `my_pizza_factory_test` /*application='MyPizzaFactory'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_development` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE DATABASE `my_pizza_factory_test` DEFAULT CHARACTER SET `utf8mb4` /*application='MyPizzaFactory'*/[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) /*application='MyPizzaFactory'*/[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7321646787078414945', 0) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2025-02-03 07:01:03.736533', '2025-02-03 07:01:03.736534') /*application='MyPizzaFactory'*/[0m
Migrating to CreateCrusts (20250201135417)
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE `crusts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135417') /*application='MyPizzaFactory'*/[0m
Migrating to CreateToppings (20250201135428)
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE `toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `is_vegetarian` tinyint(1), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135428') /*application='MyPizzaFactory'*/[0m
Migrating to CreatePizzas (20250201135526)
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE `pizzas` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price_regular` decimal, `price_medium` decimal, `price_large` decimal, `crust_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_pizzas_on_crust_id` (`crust_id`), CONSTRAINT `fk_rails_cd6ddc59bc`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135526') /*application='MyPizzaFactory'*/[0m
Migrating to CreateSides (20250201135537)
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE `sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135537') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrders (20250201135547)
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `customer_name` varchar(255), `status` varchar(255), `total_amount` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135547') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderItems (20250201135559)
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE `order_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `pizza_id` bigint NOT NULL, `crust_id` bigint NOT NULL, `quantity` int, `size` varchar(255), `total_amount` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_items_on_order_id` (`order_id`), INDEX `index_order_items_on_pizza_id` (`pizza_id`), INDEX `index_order_items_on_crust_id` (`crust_id`), CONSTRAINT `fk_rails_e3cb28f071`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
, CONSTRAINT `fk_rails_d28b17c368`
FOREIGN KEY (`pizza_id`)
  REFERENCES `pizzas` (`id`)
, CONSTRAINT `fk_rails_e0c46a1d52`
FOREIGN KEY (`crust_id`)
  REFERENCES `crusts` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135559') /*application='MyPizzaFactory'*/[0m
Migrating to CreateInventories (20250201135608)
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE `inventories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `item_type` varchar(255), `item_id` int, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250201135608') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderItemToppings (20250202115634)
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE `order_item_toppings` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_item_id` bigint NOT NULL, `topping_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_item_toppings_on_order_item_id` (`order_item_id`), INDEX `index_order_item_toppings_on_topping_id` (`topping_id`), CONSTRAINT `fk_rails_dc7b80a860`
FOREIGN KEY (`order_item_id`)
  REFERENCES `order_items` (`id`)
, CONSTRAINT `fk_rails_8bc35592b7`
FOREIGN KEY (`topping_id`)
  REFERENCES `toppings` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202115634') /*application='MyPizzaFactory'*/[0m
Migrating to AddCategoryToPizzas (20250202134356)
  [1m[35m (5.2ms)[0m  [1m[35mALTER TABLE `pizzas` ADD `category` varchar(255) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202134356') /*application='MyPizzaFactory'*/[0m
Migrating to CreateOrderSides (20250202175256)
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE `order_sides` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint NOT NULL, `side_id` bigint NOT NULL, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_sides_on_order_id` (`order_id`), INDEX `index_order_sides_on_side_id` (`side_id`), CONSTRAINT `fk_rails_f8cb2d2624`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
, CONSTRAINT `fk_rails_fb4604d3fd`
FOREIGN KEY (`side_id`)
  REFERENCES `sides` (`id`)
) /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20250202175256') /*application='MyPizzaFactory'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7321646787078414945') /*application='MyPizzaFactory'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-03 12:31:17 +0530
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"rasaa nis", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (1.4ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
Completed 422 Unprocessable Content in 34ms (Views: 0.2ms | ActiveRecord: 10.8ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
  [1m[36mOrderItem Delete All (0.3ms)[0m  [1m[31mDELETE FROM `order_items` /*application='MyPizzaFactory'*/[0m
  [1m[36mOrder Delete All (0.3ms)[0m  [1m[31mDELETE FROM `orders` /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Delete All (0.4ms)[0m  [1m[31mDELETE FROM `inventories` /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Delete All (0.3ms)[0m  [1m[31mDELETE FROM `toppings` /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Delete All (0.2ms)[0m  [1m[31mDELETE FROM `sides` /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Delete All (0.2ms)[0m  [1m[31mDELETE FROM `pizzas` /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Delete All (0.3ms)[0m  [1m[31mDELETE FROM `crusts` /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'New hand tossed' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.3ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('New hand tossed', 0, '2025-02-03 07:01:35.464575', '2025-02-03 07:01:35.464575') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Wheat thin crust' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.4ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Wheat thin crust', 0, '2025-02-03 07:01:35.477054', '2025-02-03 07:01:35.477054') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Cheese Burst' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.3ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cheese Burst', 0, '2025-02-03 07:01:35.481871', '2025-02-03 07:01:35.481871') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `crusts` WHERE `crusts`.`name` = 'Fresh pan pizza' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Create (0.3ms)[0m  [1m[32mINSERT INTO `crusts` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Fresh pan pizza', 0, '2025-02-03 07:01:35.485415', '2025-02-03 07:01:35.485415') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (1.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Deluxe Veggie' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.3ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `category`) VALUES ('Deluxe Veggie', 150, 200, 325, 1, '2025-02-03 07:01:35.500337', '2025-02-03 07:01:35.500337', 'vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (6.6ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Cheese and corn' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.3ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `category`) VALUES ('Cheese and corn', 175, 375, 475, 1, '2025-02-03 07:01:35.510792', '2025-02-03 07:01:35.510792', 'vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (0.8ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Paneer Tikka' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.3ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `category`) VALUES ('Paneer Tikka', 160, 290, 340, 1, '2025-02-03 07:01:35.515384', '2025-02-03 07:01:35.515384', 'vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (1.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Non-Veg Supreme' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.2ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `category`) VALUES ('Non-Veg Supreme', 190, 325, 425, 1, '2025-02-03 07:01:35.519930', '2025-02-03 07:01:35.519930', 'non-vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (0.8ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Chicken Tikka' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.3ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `category`) VALUES ('Chicken Tikka', 210, 370, 500, 1, '2025-02-03 07:01:35.523955', '2025-02-03 07:01:35.523955', 'non-vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mCrust Load (0.9ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `pizzas` WHERE `pizzas`.`name` = 'Pepper Barbecue Chicken' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mPizza Create (0.4ms)[0m  [1m[32mINSERT INTO `pizzas` (`name`, `price_regular`, `price_medium`, `price_large`, `crust_id`, `created_at`, `updated_at`, `category`) VALUES ('Pepper Barbecue Chicken', 220, 380, 525, 1, '2025-02-03 07:01:35.531643', '2025-02-03 07:01:35.531643', 'non-vegetarian') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.5ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Black olive', 20, TRUE, '2025-02-03 07:01:35.539078', '2025-02-03 07:01:35.539078') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Capsicum', 25, TRUE, '2025-02-03 07:01:35.542584', '2025-02-03 07:01:35.542584') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Paneer', 35, TRUE, '2025-02-03 07:01:35.546199', '2025-02-03 07:01:35.546199') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Mushroom' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Mushroom', 30, TRUE, '2025-02-03 07:01:35.551501', '2025-02-03 07:01:35.551501') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Fresh tomato' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Fresh tomato', 10, TRUE, '2025-02-03 07:01:35.554496', '2025-02-03 07:01:35.554496') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Chicken tikka' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Chicken tikka', 35, FALSE, '2025-02-03 07:01:35.557934', '2025-02-03 07:01:35.557934') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Barbeque chicken' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Barbeque chicken', 45, FALSE, '2025-02-03 07:01:35.560976', '2025-02-03 07:01:35.560976') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Grilled chicken' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.4ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Grilled chicken', 40, FALSE, '2025-02-03 07:01:35.564988', '2025-02-03 07:01:35.564988') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Extra cheese' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `toppings` (`name`, `price`, `is_vegetarian`, `created_at`, `updated_at`) VALUES ('Extra cheese', 35, TRUE, '2025-02-03 07:01:35.568172', '2025-02-03 07:01:35.568172') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `sides` WHERE `sides`.`name` = 'Cold drink' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Create (0.3ms)[0m  [1m[32mINSERT INTO `sides` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Cold drink', 55, '2025-02-03 07:01:35.574251', '2025-02-03 07:01:35.574251') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `sides` WHERE `sides`.`name` = 'Mousse cake' LIMIT 1 /*application='MyPizzaFactory'*/[0m
  [1m[36mSide Create (0.3ms)[0m  [1m[32mINSERT INTO `sides` (`name`, `price`, `created_at`, `updated_at`) VALUES ('Mousse cake', 90, '2025-02-03 07:01:35.577850', '2025-02-03 07:01:35.577850') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.1ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 1, 100, '2025-02-03 07:01:35.583010', '2025-02-03 07:01:35.583010') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.9ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 2, 100, '2025-02-03 07:01:35.586422', '2025-02-03 07:01:35.586422') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 3, 100, '2025-02-03 07:01:35.588833', '2025-02-03 07:01:35.588833') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.2ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 4, 100, '2025-02-03 07:01:35.590991', '2025-02-03 07:01:35.590991') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (2.1ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 5, 100, '2025-02-03 07:01:35.593564', '2025-02-03 07:01:35.593564') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Pizza', 6, 100, '2025-02-03 07:01:35.597537', '2025-02-03 07:01:35.597537') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 1, 100, '2025-02-03 07:01:35.599644', '2025-02-03 07:01:35.599644') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (8.5ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 2, 100, '2025-02-03 07:01:35.602555', '2025-02-03 07:01:35.602555') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 3, 100, '2025-02-03 07:01:35.614110', '2025-02-03 07:01:35.614110') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.9ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 4, 100, '2025-02-03 07:01:35.616488', '2025-02-03 07:01:35.616488') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.1ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 5, 100, '2025-02-03 07:01:35.619047', '2025-02-03 07:01:35.619047') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.0ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 6, 100, '2025-02-03 07:01:35.621368', '2025-02-03 07:01:35.621368') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 7, 100, '2025-02-03 07:01:35.623894', '2025-02-03 07:01:35.623894') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.9ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Topping', 8, 100, '2025-02-03 07:01:35.627625', '2025-02-03 07:01:35.627625') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (2.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Side', 1, 100, '2025-02-03 07:01:35.633520', '2025-02-03 07:01:35.633520') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Side', 2, 100, '2025-02-03 07:01:35.637710', '2025-02-03 07:01:35.637710') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.5ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 1, 100, '2025-02-03 07:01:35.640136', '2025-02-03 07:01:35.640136') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (1.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 2, 100, '2025-02-03 07:01:35.651377', '2025-02-03 07:01:35.651377') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 3, 100, '2025-02-03 07:01:35.654791', '2025-02-03 07:01:35.654791') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MyPizzaFactory'*/[0m
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO `inventories` (`item_type`, `item_id`, `quantity`, `created_at`, `updated_at`) VALUES ('Crust', 4, 100, '2025-02-03 07:01:35.657016', '2025-02-03 07:01:35.657016') /*application='MyPizzaFactory'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='MyPizzaFactory'*/[0m
Started POST "/orders" for ::1 at 2025-02-03 12:31:44 +0530
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"rasaa nis", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (1.1ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (1.1ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (3.9ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:19:in `block in create'
  [1m[36mSide Load (0.4ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:24:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:56:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:62:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:69:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:78:in `block in check_inventory'
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('rasaa nis', 'pending', 370, '2025-02-03 07:01:44.833556', '2025-02-03 07:01:44.833556') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItem Create (0.4ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `crust_id`, `quantity`, `size`, `total_amount`, `created_at`, `updated_at`) VALUES (1, 1, 1, 1, 'Medium', NULL, '2025-02-03 07:01:44.855743', '2025-02-03 07:01:44.855743') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (1, 2, '2025-02-03 07:01:44.857435', '2025-02-03 07:01:44.857435') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (1, 3, '2025-02-03 07:01:44.858837', '2025-02-03 07:01:44.858837') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mOrderSide Create (0.3ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (1, 1, 2, '2025-02-03 07:01:44.860131', '2025-02-03 07:01:44.860131') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:28:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Update (7.4ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-03 07:01:44.863536' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:99:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-03 07:01:44.874149' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:100:in `block in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (2.3ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-03 07:01:44.877548' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:103:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.6ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-03 07:01:44.883102' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:104:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:109:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-03 07:01:44.887339' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:110:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mOrder Update (0.9ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 07:01:44.890054' WHERE `orders`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:113:in `confirm_order!'
Completed 201 Created in 169ms (Views: 0.2ms | ActiveRecord: 74.4ms (29 queries, 0 cached) | GC: 17.0ms)


Started POST "/orders" for ::1 at 2025-02-03 12:34:26 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC /*application='MyPizzaFactory'*/[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"rasaasdsd nis", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[3, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.4ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (1.6ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (3, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:17:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:22:in `block in create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:54:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:60:in `block in check_inventory'
  [1m[36mInventory Load (3.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:76:in `block in check_inventory'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('rasaasdsd nis', 'pending', 370, '2025-02-03 07:04:26.972305', '2025-02-03 07:04:26.972305') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Paneer' AND `toppings`.`id` != 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItem Create (2.5ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `crust_id`, `quantity`, `size`, `total_amount`, `created_at`, `updated_at`) VALUES (2, 1, 1, 1, 'Medium', NULL, '2025-02-03 07:04:26.990211', '2025-02-03 07:04:26.990211') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (0.5ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (2, 2, '2025-02-03 07:04:26.993724', '2025-02-03 07:04:26.993724') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (2, 3, '2025-02-03 07:04:26.995174', '2025-02-03 07:04:26.995174') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderSide Create (0.6ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (2, 1, 2, '2025-02-03 07:04:27.004086', '2025-02-03 07:04:27.004086') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:93:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-03 07:04:27.010651' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mInventory Update (3.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-03 07:04:27.014248' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:101:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-03 07:04:27.021082' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 3 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:101:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-03 07:04:27.027398' WHERE `inventories`.`id` = 9 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:107:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:108:in `block in confirm_order!'
  [1m[36mInventory Update (3.1ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-03 07:04:27.030953' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:108:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:108:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
  [1m[36mOrder Update (0.8ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 07:04:27.035949' WHERE `orders`.`id` = 2 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
Completed 201 Created in 173ms (Views: 0.2ms | ActiveRecord: 70.0ms (29 queries, 0 cached) | GC: 18.8ms)


Started POST "/orders" for ::1 at 2025-02-03 12:34:39 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"rasaasdsd nis", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>2}]}}
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:17:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:22:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:54:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:60:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:76:in `block in check_inventory'
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('rasaasdsd nis', 'pending', 355, '2025-02-03 07:04:39.693102', '2025-02-03 07:04:39.693102') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItem Create (0.2ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `crust_id`, `quantity`, `size`, `total_amount`, `created_at`, `updated_at`) VALUES (3, 1, 1, 1, 'Medium', NULL, '2025-02-03 07:04:39.708444', '2025-02-03 07:04:39.708444') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (3, 1, '2025-02-03 07:04:39.709750', '2025-02-03 07:04:39.709750') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (3, 2, '2025-02-03 07:04:39.710884', '2025-02-03 07:04:39.710884') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderSide Create (0.4ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (3, 1, 2, '2025-02-03 07:04:39.712511', '2025-02-03 07:04:39.712511') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:93:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-03 07:04:39.715411' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-03 07:04:39.718839' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:101:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.2ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 99, `inventories`.`updated_at` = '2025-02-03 07:04:39.721837' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:101:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-03 07:04:39.725288' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:107:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:108:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-03 07:04:39.728554' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:108:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:108:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
  [1m[36mOrder Update (0.9ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 07:04:39.731001' WHERE `orders`.`id` = 3 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
Completed 201 Created in 56ms (Views: 0.1ms | ActiveRecord: 16.3ms (29 queries, 0 cached) | GC: 13.0ms)


Started POST "/orders" for ::1 at 2025-02-03 12:34:46 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"rasaasdsd nis", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>1}]}}
  [1m[36mPizza Load (1.0ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.4ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:17:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:22:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:54:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:60:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:76:in `block in check_inventory'
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('rasaasdsd nis', 'pending', 300, '2025-02-03 07:04:46.788906', '2025-02-03 07:04:46.788906') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItem Create (1.3ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `crust_id`, `quantity`, `size`, `total_amount`, `created_at`, `updated_at`) VALUES (4, 1, 1, 1, 'Medium', NULL, '2025-02-03 07:04:46.797301', '2025-02-03 07:04:46.797301') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (0.8ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (4, 1, '2025-02-03 07:04:46.799445', '2025-02-03 07:04:46.799445') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (4, 2, '2025-02-03 07:04:46.801615', '2025-02-03 07:04:46.801615') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderSide Create (0.3ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (4, 1, 1, '2025-02-03 07:04:46.803115', '2025-02-03 07:04:46.803115') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:93:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 96, `inventories`.`updated_at` = '2025-02-03 07:04:46.806452' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 96, `inventories`.`updated_at` = '2025-02-03 07:04:46.809563' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:101:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 98, `inventories`.`updated_at` = '2025-02-03 07:04:46.817975' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:101:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (2.1ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 96, `inventories`.`updated_at` = '2025-02-03 07:04:46.827125' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:107:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:108:in `block in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 96, `inventories`.`updated_at` = '2025-02-03 07:04:46.831767' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:108:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:108:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
  [1m[36mOrder Update (0.8ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 07:04:46.834911' WHERE `orders`.`id` = 4 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
Completed 201 Created in 58ms (Views: 0.1ms | ActiveRecord: 27.1ms (29 queries, 0 cached) | GC: 4.8ms)


Started POST "/orders" for ::1 at 2025-02-03 12:34:53 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"rasaasdsd nis", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}]}}
  [1m[36mPizza Load (1.1ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.3ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.3ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:17:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:54:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:60:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block (2 levels) in check_inventory'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('rasaasdsd nis', 'pending', 245, '2025-02-03 07:04:53.382246', '2025-02-03 07:04:53.382246') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItem Create (0.2ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `crust_id`, `quantity`, `size`, `total_amount`, `created_at`, `updated_at`) VALUES (5, 1, 1, 1, 'Medium', NULL, '2025-02-03 07:04:53.389728', '2025-02-03 07:04:53.389728') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (5, 1, '2025-02-03 07:04:53.393035', '2025-02-03 07:04:53.393035') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (0.2ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (5, 2, '2025-02-03 07:04:53.394622', '2025-02-03 07:04:53.394622') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:93:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 95, `inventories`.`updated_at` = '2025-02-03 07:04:53.398591' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 95, `inventories`.`updated_at` = '2025-02-03 07:04:53.401545' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:101:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 97, `inventories`.`updated_at` = '2025-02-03 07:04:53.404839' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:101:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 95, `inventories`.`updated_at` = '2025-02-03 07:04:53.407596' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
  [1m[36mOrder Update (0.8ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 07:04:53.409971' WHERE `orders`.`id` = 5 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
Completed 201 Created in 40ms (Views: 0.1ms | ActiveRecord: 14.4ms (24 queries, 0 cached) | GC: 2.9ms)


Started POST "/orders" for ::1 at 2025-02-03 12:34:57 +0530
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"customer_name"=>"rasaasdsd nis", "pizzas"=>[{"pizza_id"=>1, "size"=>"Medium", "crust_id"=>1, "topping_ids"=>[1, 2]}], "sides"=>[{"side_id"=>1, "quantity"=>1}]}}
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT `pizzas`.* FROM `pizzas` WHERE `pizzas`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:8:in `block in create'
  [1m[36mCrust Load (0.2ms)[0m  [1m[34mSELECT `crusts`.* FROM `crusts` WHERE `crusts`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTopping Load (0.2ms)[0m  [1m[34mSELECT `toppings`.* FROM `toppings` WHERE `toppings`.`id` IN (1, 2) /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:17:in `block in create'
  [1m[36mSide Load (0.3ms)[0m  [1m[34mSELECT `sides`.* FROM `sides` WHERE `sides`.`id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:22:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:54:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:60:in `block in check_inventory'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:67:in `block (2 levels) in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:76:in `block in check_inventory'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`customer_name`, `status`, `total_amount`, `created_at`, `updated_at`) VALUES ('rasaasdsd nis', 'pending', 300, '2025-02-03 07:04:57.425210', '2025-02-03 07:04:57.425210') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Black olive' AND `toppings`.`id` != 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTopping Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `toppings` WHERE `toppings`.`name` = 'Capsicum' AND `toppings`.`id` != 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItem Create (0.3ms)[0m  [1m[32mINSERT INTO `order_items` (`order_id`, `pizza_id`, `crust_id`, `quantity`, `size`, `total_amount`, `created_at`, `updated_at`) VALUES (6, 1, 1, 1, 'Medium', NULL, '2025-02-03 07:04:57.433102', '2025-02-03 07:04:57.433102') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (6, 1, '2025-02-03 07:04:57.434323', '2025-02-03 07:04:57.434323') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderItemTopping Create (0.3ms)[0m  [1m[32mINSERT INTO `order_item_toppings` (`order_item_id`, `topping_id`, `created_at`, `updated_at`) VALUES (6, 2, '2025-02-03 07:04:57.436495', '2025-02-03 07:04:57.436495') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mOrderSide Create (0.2ms)[0m  [1m[32mINSERT INTO `order_sides` (`order_id`, `side_id`, `quantity`, `created_at`, `updated_at`) VALUES (6, 1, 1, '2025-02-03 07:04:57.438205', '2025-02-03 07:04:57.438205') /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Pizza' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:93:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 94, `inventories`.`updated_at` = '2025-02-03 07:04:57.441148' WHERE `inventories`.`id` = 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:95:in `block in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Crust' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:97:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mInventory Update (1.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 94, `inventories`.`updated_at` = '2025-02-03 07:04:57.444330' WHERE `inventories`.`id` = 17 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:98:in `block in confirm_order!'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:101:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 96, `inventories`.`updated_at` = '2025-02-03 07:04:57.449130' WHERE `inventories`.`id` = 7 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Topping' AND `inventories`.`item_id` = 2 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:101:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 94, `inventories`.`updated_at` = '2025-02-03 07:04:57.452052' WHERE `inventories`.`id` = 8 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:102:in `block (2 levels) in confirm_order!'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT `inventories`.* FROM `inventories` WHERE `inventories`.`item_type` = 'Side' AND `inventories`.`item_id` = 1 LIMIT 1 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:107:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:108:in `block in confirm_order!'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE `inventories` SET `inventories`.`quantity` = 95, `inventories`.`updated_at` = '2025-02-03 07:04:57.455156' WHERE `inventories`.`id` = 15 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:108:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:108:in `block in confirm_order!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
  [1m[36mOrder Update (0.9ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`status` = 'confirmed', `orders`.`updated_at` = '2025-02-03 07:04:57.457671' WHERE `orders`.`id` = 6 /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*action='create',application='MyPizzaFactory',controller='orders'*/[0m
  ↳ app/models/order.rb:111:in `confirm_order!'
Completed 201 Created in 48ms (Views: 0.1ms | ActiveRecord: 18.2ms (29 queries, 0 cached) | GC: 3.6ms)


